(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{153:function(n,r,e){"use strict";e.r(r),e.d(r,"frontMatter",(function(){return o})),e.d(r,"metadata",(function(){return p})),e.d(r,"toc",(function(){return c})),e.d(r,"default",(function(){return s}));var a=e(3),t=e(7),l=(e(0),e(191)),i=["components"],o={id:"sort",title:"\u6392\u5e8f",slug:"/CS/leetcode/sort"},p={unversionedId:"CS/leetcode/ai/sort",id:"CS/leetcode/ai/sort",isDocsHomePage:!1,title:"\u6392\u5e8f",description:"\u9009\u62e9\u6392\u5e8f",source:"@site/docs/CS/leetcode/ai/sort.md",slug:"/CS/leetcode/sort",permalink:"/docs/CS/leetcode/sort",editUrl:"https://github.com/yingwinwin/yingwinwin.github.io/tree/master/docs/CS/leetcode/ai/sort.md",version:"current",sidebar:"leetcode",previous:{title:"\u5bf9\u6570\u5668",permalink:"/docs/CS/leetcode/random"}},c=[{value:"\u9009\u62e9\u6392\u5e8f",id:"\u9009\u62e9\u6392\u5e8f",children:[]},{value:"\u5192\u6ce1\u6392\u5e8f",id:"\u5192\u6ce1\u6392\u5e8f",children:[]},{value:"\u63d2\u5165\u6392\u5e8f",id:"\u63d2\u5165\u6392\u5e8f",children:[]},{value:"\u5f52\u5e76\u6392\u5e8f",id:"\u5f52\u5e76\u6392\u5e8f",children:[{value:"\u9012\u5f52",id:"\u9012\u5f52",children:[]},{value:"\u8fed\u4ee3",id:"\u8fed\u4ee3",children:[]},{value:"\u5c0f\u548c\u95ee\u9898",id:"\u5c0f\u548c\u95ee\u9898",children:[]},{value:"\u9006\u5e8f\u5bf9",id:"\u9006\u5e8f\u5bf9",children:[]},{value:"2\u500d\u95ee\u9898",id:"2\u500d\u95ee\u9898",children:[]},{value:"\u533a\u95f4\u548c\u7684\u4e2a\u6570",id:"\u533a\u95f4\u548c\u7684\u4e2a\u6570",children:[]}]},{value:"\u5feb\u901f\u6392\u5e8f\uff08\u968f\u673a\u5feb\u6392\uff09",id:"\u5feb\u901f\u6392\u5e8f\u968f\u673a\u5feb\u6392",children:[{value:"&lt;=x \u5728\u5de6\uff0c&gt;x\u5728\u53f3",id:"x-\u5728\u5de6x\u5728\u53f3",children:[]},{value:"\u8377\u5170\u56fd\u65d7\u95ee\u9898",id:"\u8377\u5170\u56fd\u65d7\u95ee\u9898",children:[]},{value:"\u5feb\u63922.0\u7248\u672c",id:"\u5feb\u639220\u7248\u672c",children:[]},{value:"\u5feb\u6392 3.0 \u7248\u672c",id:"\u5feb\u6392-30-\u7248\u672c",children:[]},{value:"\u8fed\u4ee3",id:"\u8fed\u4ee3-1",children:[]}]}],u={toc:c};function s(n){var r=n.components,o=Object(t.a)(n,i);return Object(l.b)("wrapper",Object(a.a)({},u,o,{components:r,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"\u9009\u62e9\u6392\u5e8f"},"\u9009\u62e9\u6392\u5e8f"),Object(l.b)("p",null,"\u627e\u5230\u6700\u5c0f\u7684\u503c\uff0c\u628a\u5b83\u653e\u5230\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function selectSort(arr) {\n    if (!arr.length || arr.length < 2) return arr;\n  \n    for(let i = 0; i < arr.length; i ++) {\n        let min = i;\n        for(let j = i + 1; j < arr.length; j ++) {\n            min = arr[min] > arr[j] ? j : min\n        }\n\n      [arr[min], arr[i]] = [arr[i], arr[min]];\n    }\n}\nlet arr = [1,3,324,12,3123,4,23,123]\nselectSort(arr)\nconsole.log(arr)\n")),Object(l.b)("h2",{id:"\u5192\u6ce1\u6392\u5e8f"},"\u5192\u6ce1\u6392\u5e8f"),Object(l.b)("p",null,"\u4e00\u4e2a\u4e00\u4e2a\u6bd4\u8f83\uff0c\u8c01\u5927\u8c01\u5f80\u540e\u53bb\u3002\u76f4\u5230\u6bd4\u8f83\u5230\u6700\u540e\u4e00\u4e2a\u3002\u518d\u4ece\u7b2c\u4e00\u4e2a\u4ece\u65b0\u5f00\u59cb\u6bd4\u8f83"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"// \u6bd4\u8f83\u662f 0 - n-1 \u5f00\u59cb\u6240\u4ee5\u7b2c\u4e00\u5c42\u5faa\u73af\u662f 0 - n-1\n// \u5728\u91cc\u9762\u7684\u5faa\u73af\u662f 0 1 \u6362  1 2 \u6362  2 3 \u6362\nfunction bubbleSort(arr) {\n    if (!arr.length || arr.length < 2) return arr;\n    // \u6570\u7ec4\u7684\u6700\u540e\u4e00\u9879\u5230\u7b2c\u4e00\u9879\n    for (let end = arr.length - 1; end >= 0; end --) {\n        // \u5b9a\u4e49\u7b2c\u4e8c\u9879 \u548c \u7b2c\u4e00\u9879\u4ea4\u6362 -> \u4e00\u76f4\u4ea4\u6362\u5230end\uff0c\u56e0\u4e3a\u6bcf\u4e00\u6b21\u5916\u5c42\u5faa\u73af\u4f1a--\uff0c\n        for(let second = 1; second <= end; second ++) {\n            if(arr[second - 1] > arr[second]) {\n                [arr[second - 1], arr[second]] = [arr[second], arr[second - 1]]\n            }\n        }\n    }\n}\nlet arr = [1,3,324,12,3123,4,23,123]\nbubbleSort(arr)\nconsole.log(arr)\n")),Object(l.b)("h2",{id:"\u63d2\u5165\u6392\u5e8f"},"\u63d2\u5165\u6392\u5e8f"),Object(l.b)("p",null,"\u5148\u6392 0-0, 0-1 \u7136\u540e0-2 \u7136\u540e0-3 0-4 0-5\uff0c\u5c31\u50cf\u6597\u5730\u4e3b\u73a9\u724c\uff0c\u6211\u6478\u5230\u4e00\u5f20\u724c\u4ee5\u540e\u5f80\u91cc\u9762\u63d2\u5165\u7684\u65f6\u5019\uff0c\u5c31\u662f\u524d\u9762\u90fd\u6392\u597d\u4e86\uff0c\u7136\u540e\u6bd4\u8f83\uff0c\u5f80\u91cc\u4e00\u63d2\u5c31\u53ef\u4ee5\u4e86"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function insertSort(arr) {\n    if (!arr.length || arr.length < 2) return arr;\n    // 0-0 0-1\n    for(let i = 1; i < arr.length; i ++) {\n        let num = i;\n        while(num > 0 && arr[num - 1] > arr[num]) {\n            [arr[num], arr[num - 1]] = [arr[num - 1], arr[num]]\n            num--;  // \u662f\u4e3a\u4e86\u5f53\u524dnum\u4ea4\u6362\u4e4b\u540e\uff0c\u4e0b\u6807\u5e94\u8be5\u5f80\u524d\u79fb\u52a8\u3002\n        }\n    }\n}\nlet arr = [1,3,324,12,3123,4,23,123]\ninsertSort(arr)\nconsole.log(arr)\n")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function insertSort(arr) {\n    if (!arr.length || arr.length < 2) return arr;\n    for(let i = 1; i < arr.length; i ++) {\n        // \u628awhile\u5faa\u73af\uff0c\u53d8\u6210for\u5faa\u73af\n        for(let num = i; num > 0 && arr[num - 1] > arr[num]; num --) {\n            [arr[num], arr[num - 1]] = [arr[num - 1], arr[num]]\n        }\n    }\n}\nlet arr = [1,3,324,12,3123,4,23,123]\ninsertSort(arr)\nconsole.log(arr)\n")),Object(l.b)("h2",{id:"\u5f52\u5e76\u6392\u5e8f"},"\u5f52\u5e76\u6392\u5e8f"),Object(l.b)("h3",{id:"\u9012\u5f52"},"\u9012\u5f52"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function mergeSort(arr) {\n    if (arr == null || arr.length < 2) {\n        return arr;\n    }\n\n    // \u4ece\u7b2c0\u5230\u6700\u540e\u4e00\u9879\u8fdb\u884c\u6392\u5e8f\n    process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n    if (L == R) {\n        return; // \u8bf4\u660e\u5c31\u4e00\u4e2a\u6570\u5b57\u4e86\uff0c\u4e0d\u7528\u6392\u5e8f\u4e86\u3002\u76f4\u63a5\u8fd4\u56de\n    }\n    // Math.floor((L + R) / 2) \n    let mid = Math.floor(L + ((R - L) >> 1));\n    process(arr, L, mid);\n    process(arr, mid + 1, R);\n    merge(arr, L, mid, R);\n}\n\nfunction merge(arr, L, M, R) {\n    let help = new Array(R - L + 1);\n    let i = 0;\n    let p1 = L;\n    let p2 = M + 1;\n    \n    while(p1 <= M && p2 <= R) {  // \u5982\u679c\u5728\u8303\u56f4\u5185\uff0c\u5c31\u8c01\u5c0f\u8c01\u52a8\n        help[i++] = arr[p1] <= arr[p2] ? arr[p1++] : arr[p2++];\n    }\n\n    while(p1 <= M) {  // p1 \u6709\u5c31\u628ap1\u90fd\u8865\u5230\u6700\u540e\n        help[i++] = arr[p1++];\n    }\n\n    while(p2 <= R) {  // p2 \u6709\u5c31\u628ap2\u8865\u5230\u6700\u540e\n        help[i++] = arr[p2++]; \n    }\n    \n    // \u7528help\u5faa\u73af\u3002arr\u8981\u4eceL\u5f00\u59cb\uff0c\u8fd9\u91cc\u7684i\u7528\u7684\u662f\u6700\u5f00\u59cb\u7684\u90a3\u4e2ai\uff0c\u5176\u5b9e\u4e0d\u7528\u8fd9\u4e2ai\u4e5f\u53ef\u4ee5\u3002\u4f46\u662f\u6ca1\u5fc5\u8981\u91cd\u65b0\u7533\u8bf7\u4e00\u4e2a\u53d8\u91cf\n    for(i = 0; i < help.length; i++) {  // \u62f7\u8d1d\u56de\u539f\u6570\u7ec4\n        arr[L + i] = help[i];\n    }\n}\n\nlet arr = [1,3,2,12,3123,4,23,123]\nmergeSort(arr)\nconsole.log(arr)\n")),Object(l.b)("h3",{id:"\u8fed\u4ee3"},"\u8fed\u4ee3"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function merge(arr, L, M, R) {\n    let help = new Array(R - L + 1);\n    let i = 0;\n    let p1 = L;\n    let p2 = M + 1;\n\n    while (p1 <= M && p2 <= R) {\n        help[i++] = arr[p1] <= arr[p2] ? arr[p1++] : arr[p2++];\n    }\n\n    while (p1 <= M) {\n        help[i++] = arr[p1++];\n    }\n\n    while (p2 <= R) {\n        help[i++] = arr[p2++];\n    }\n\n    for (i = 0; i < help.length; i++) {\n        arr[L + i] = help[i];\n    }\n}\n\nfunction mergeSort(arr) {\n    if (arr == null && arr.length < 2) {\n        return arr;\n    }\n    let N = arr.length;\n    let mergeSize = 1;  // \u6b65\u957f\n    while(mergeSize < N) {  // \u6b65\u957f\u4e0d\u80fd\u8d85\u8fc7N\n        let L = 0;\n        while(L < N) {  // \u5de6\u8fb9\u754c\u4e0d\u80fd\u8d85\u8fc7N\n            let M = L + mergeSize - 1;  // \u8ba1\u7b97\u4e2d\u70b9\u3002L + \u6b65\u957f - 1\u7684\u8ddd\u79bb\n            if (M >= N) {  // M \u4e5f\u4e0d\u80fd\u8d85\u8fc7 N\n                break;\n            }\n            //  M + mergeSize = M + 1 + mergeSize - 1\n            let R = Math.min(N - 1, M + mergeSize); // \u8ba1\u7b97R\uff0c\u53f3\u8fb9\u754c\u5982\u679c\u662f\u6700\u8fb9\u4e0a\uff0c\u5c31\u53d6\u6570\u7ec4\u957f\u5ea6\uff0c\u5982\u679c\u4e0d\u662f\u5c31\u53d6M + \u6b65\u957f\n            merge(arr, L, R, M);  // \u6709\u4e86 L, M , R \u8fdb\u884cmerge\u64cd\u4f5c\n            L = R + 1;  // \u79fb\u52a8L\u7684\u4f4d\u7f6e\u3002\u7ee7\u7eed\u4e0b\u4e00\u6b21\u5faa\u73af\n        }\n        if (mergeSize > N / 2) {  // \u9632\u6b62\u6b65\u957f\u8d8a\u754c\uff0c\u5982\u679c\u6b65\u957f\u4e0b\u4e00\u6b21\u5927\u4e8e\u4e86\u603b\u957f\u5ea6\u7684\u4e00\u534a\u5c31\u505c\u6b62\u5faa\u73af\n            break;\n        }\n        mergeSize <<= 1  // \u6b65\u957f\u4e582\n    }\n}\n\nlet arr = [1, 3, 2, 12, 3123, 4, 23, 123]\nmergeSort(arr)\nconsole.log(arr)\n")),Object(l.b)("h4",{id:"\u5bf9\u6570\u5668"},"\u5bf9\u6570\u5668"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function mergeSort2(arr) {\n    if (!arr || arr.length < 2) {\n        return arr;\n    }\n    let N = arr.length;\n    let mergeSize = 1;\n    while(mergeSize < N) {\n        let L = 0;\n        while(L < N) {\n            let M = L + mergeSize - 1;\n            if (M >= N) {\n                break;\n            }\n\n            let R = Math.min(N - 1, mergeSize + M);\n            merge(arr, L,M,R);\n            L = R + 1;\n        }\n        mergeSize <<= 1;\n    }\n}\n\nfunction mergeSort1(arr) {\n    if (!arr || arr.length < 2) {\n        return arr;\n    }\n    process(arr, 0, arr.length - 1);\n}\n\n\nfunction process(arr, L, R) {\n    if (L == R) {\n        return;\n    }\n\n    let mid = Math.floor(L + ((R - L) >> 1));\n    process(arr, L, mid);\n    process(arr, mid + 1, R);\n    merge(arr, L, mid, R);\n}\n\nfunction merge(arr, L, M, R) {\n    let help = new Array(R - L + 1);\n    let i = 0;\n    let p1 = L;\n    let p2 = M + 1;\n    while (p1 <= M && p2 <= R) {\n        help[i++] = arr[p1] <= arr[p2] ? arr[p1++] : arr[p2++];\n    }\n\n    while(p1 <= M) {\n        help[i++] = arr[p1++];\n    }\n\n    while(p2 <= R) {\n        help[i++] = arr[p2++];\n    }\n\n    for ( i = 0; i < help.length; i ++) {\n        arr[L + i] = help[i];\n    }\n}\n\n\nfunction lenRandomValueRandom(maxlen, maxvalue) {\n    let len = Math.floor(Math.random() * maxlen)\n    let arr = new Array(len);\n    for(let i = 0; i < arr.length; i ++) {\n        arr[i] = Math.floor(Math.random() * maxvalue)\n    }\n    return arr;\n}\n\nfunction copy(arr) {\n    let help = [];\n    for(let i = 0; i < arr.length; i ++) {\n        help[i] = arr[i]\n    }\n    return help\n}\n\nfunction main() {\n    let maxlen = 100;\n    let maxvalue = 1000;\n    let timeout = 100;\n    for (let i = 0; i < timeout; i ++) {\n        let arr = lenRandomValueRandom(maxlen, maxvalue)\n        let copyArr = copy(arr);\n        mergeSort1(arr);\n        mergeSort2(copyArr)\n        for (let j = 0; j < arr.length; j ++) {\n            if (arr[j] !== copyArr[j]) {\n                console.log(arr, copyArr);\n                console.log('error');\n                break;\n            }\n        }\n    }\n}\nmain()\n")),Object(l.b)("h3",{id:"\u5c0f\u548c\u95ee\u9898"},"\u5c0f\u548c\u95ee\u9898"),Object(l.b)("p",null,"\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u5143\u7d20\u5de6\u8fb9\u6bd4\u5b83\u5c0f\u7684\u6570\u7d2f\u52a0\u8d77\u6765\uff0c\u5f97\u5230\u7684\u7d2f\u52a0\u548c\u5c31\u662f\u5c0f\u548c\u3002"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"\u8f6c\u6362\u4e3a\u7528\u5f53\u524d\u7684\u6570 \u4e58 \u53f3\u4fa7\u6bd4\u4ed6\u5927\u7684\u6570\u7684\u6570\u91cf")),Object(l.b)("p",null,Object(l.b)("img",{alt:"image.png",src:e(339).default})),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u6a2a\u7740\u7684\u662f\uff0c\u5c0f\u548c\u95ee\u9898\u7684\u63cf\u8ff0\u3002"),Object(l.b)("li",{parentName:"ul"},"\u7ad6\u7740\u7684\u662f\uff0c\u8f6c\u6362\u4e3a\u5f53\u524d\u6570*\u53f3\u4fa7\u6bd4\u4ed6\u5927\u7684\u6570")),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},"\u5728\u6392\u5e8f\u7684\u8fc7\u7a0b\u4e2d\u627e\u5230\uff0c\u53f3\u7ec4\u4e0d\u4ea7\u751f\u5c0f\u548c\u3002\u5de6\u7ec4\u624d\u4f1a\u4ea7\u751f\u5c0f\u548c"),Object(l.b)("li",{parentName:"ol"},"\u5de6\u7ec4\u548c\u53f3\u7ec4\u4e00\u6837\u7684\u65f6\u5019\uff0c\u5148\u79fb\u52a8\u53f3\u7ec4")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function samllSum(arr) {\n    if (arr == null || arr.length < 2) {\n        return 0  // \u6ca1\u6709\u76f4\u63a5\u8fd4\u56de0\n    }\n    return process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n    if (L === R) {\n        return 0; // \u76f8\u7b49\u8fd4\u56de0\n    } \n\n    let mid = Math.floor(L + ((R - L) >> 1));  // \u8ba1\u7b97\u4e2d\u70b9\n    \n    // \u8fd4\u56de\u5de6\u8fb9\uff0c\u53f3\u8fb9\uff0cmerge\u540e\u76f8\u52a0\u7684\u5c0f\u548c\n    return process(arr, L, mid) + process(arr, mid + 1, R) + merge(arr, L, R, mid)\n}\n\nfunction merge(arr, L, R, mid) {\n    let help = new Array(R - L + 1)\n    let i = 0;\n    let p1 = L;\n    let p2 = mid + 1;\n    let res = 0;\n    while (p1 <= mid && p2 <= R) {\n        // \u5982\u679c\u5de6\u8fb9\u7684\u6bd4\u53f3\u8fb9\u7684\u5c0f\uff0c\u8ba1\u7b97\u53f3\u8fb9\u7684\u8ddd\u79bb * \u5de6\u8fb9\u7684\u6570\u3002\u5426\u5219\u5c31\u662f0\n        res += arr[p1] < arr[p2] ? (R - p2 + 1) * arr[p1] : 0;\n        // \u6ce8\u610f\u8fd9\u91cc \u9700\u8981\u662f \u5de6\u8fb9\u548c\u53f3\u8fb9\u76f8\u540c\u65f6\u3002\u5148\u52a8\u53f3\u8fb9\n        help[i++] = arr[p1] < arr[p2] ? arr[p1++] : arr[p2++];\n    }\n\n    while(p1 <= mid) {\n        help[i++] = arr[p1++];\n    }\n\n    while(p2 <= R) {\n        help[i++] = arr[p2++];\n    }\n\n    for(i = 0; i < help.length; i ++) {\n        arr[L + i] = help[i];\n    }\n    return res;\n}\n\n\nlet arr = [1,2,3,4]\nconsole.log(samllSum(arr));  // 10\n")),Object(l.b)("h4",{id:"\u5bf9\u6570\u5668-1"},"\u5bf9\u6570\u5668"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function sumallSum(arr) {\n  if (!arr || arr.length < 2) {\n    return 0;\n  }\n  return process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n  if (L == R) {\n    return 0;\n  }\n  \n  let mid = Math.floor(L + ((R - L) >> 1));\n  return process(arr, L, mid) + process(arr, mid + 1, R) + merge(arr, L, mid, R);\n}\n\nfunction merge(arr, L, M, R) {\n  let help = new Array(R - L + 1);\n  let i = 0;\n  let p1 = L;\n  let p2 = M + 1;\n  let res = 0\n  while (p1 <= M && p2 <= R) {\n    res += arr[p1] < arr[p2] ? arr[p1] * (R - p2 + 1) : 0\n    help[i++] = arr[p1] < arr[p2] ? arr[p1++] : arr[p2++];\n  }\n  \n  while(p1 <= M) {\n    help[i++] = arr[p1++];\n  }\n  \n  while(p2 <= R) {\n    help[i++] = arr[p2++];\n  }\n  \n  for ( i = 0; i < help.length; i ++) {\n    arr[L + i] = help[i];\n  }\n  return res;\n}\n\n// \u5de6\u8fb9\u6bd4\u53f3\u8fb9\u5c0f\u7684\u6570\u7684\u548c\nfunction sumallSum2(arr) {\n  let res = 0;\n  for (let i = 1; i < arr.length; i ++) {\n    for (let j = 0; j < i; j ++) {\n      res += arr[i] > arr[j] ? arr[j] : 0;\n    }\n  }\n  return res;\n}\n\nfunction lenRandomValueRandom(maxlen, maxvalue) {\n  let len = Math.floor(Math.random() * maxlen)\n  let arr = new Array(len);\n  for(let i = 0; i < arr.length; i ++) {\n    arr[i] = Math.floor(Math.random() * maxvalue)\n  }\n  return arr;\n}\n\nfunction copy(arr) {\n  let help = [];\n  for(let i = 0; i < arr.length; i ++) {\n    help[i] = arr[i]\n  }\n  return help\n}\n\nfunction main() {\n  let maxlen = 1000;\n  let maxvalue = 1000;\n  let timeout = 1000;\n  for (let i = 0; i < timeout; i ++) {\n    let arr = lenRandomValueRandom(maxlen, maxvalue)\n    let copyArr = copy(arr);\n    let a = sumallSum(arr);\n    let b = sumallSum2(copyArr);\n    if (sumallSum(arr) !== sumallSum2(arr)) {\n      console.log('error',arr);\n    }\n  }\n}\nmain()\n")),Object(l.b)("h3",{id:"\u9006\u5e8f\u5bf9"},"\u9006\u5e8f\u5bf9"),Object(l.b)("p",null,"\u4e00\u4e2a\u6570\u7ec4\u4e2d\u5de6\u8fb9\u7684\u6570\u6bd4\u53f3\u8fb9\u7684\u6570\u5c0f\uff0c\u770b\u4e00\u7ec4\u6570\u4e2d\u6709\u591a\u5c11\u4e2a\u9006\u5e8f\u5bf9\u3002\n","[1,2,3]"," -> 0\u5bf9\n","[3,2,1]"," -> 3,2    3,1    2,1    3\u5bf9"),Object(l.b)("p",null,"\u89e3\u91ca\uff1a\u53f3\u8fb9\u6709\u591a\u5c11\u4e2a\u6570\u6bd4\u5f53\u524d\u6570\u5c0f"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"\u4ece\u53f3\u5f80\u5de6\u62f7\u8d1d"),Object(l.b)("li",{parentName:"ol"},"\u6c42\u53f3\u8fb9\u6709\u591a\u5c11\u4e2a\u6570\u6bd4\u5f53\u524d\u6570\u5c0f"),Object(l.b)("li",{parentName:"ol"},"\u4e24\u4e2a\u6570\u8c01\u5927 \u62f7\u8d1d\u8c01\uff0c \u76f8\u7b49\u7684\u65f6\u5019\u5148\u62f7\u8d1d\u53f3\u8fb9\u7684")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function reverPairNumber(arr) {\n    if (arr == null || arr.length < 2) {\n        return 0\n    }\n    return process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n    if (L === R) {\n        return 0;\n    } \n\n    let mid = Math.floor(L + ((R - L) >> 1));\n\n    return process(arr, L, mid) + process(arr, mid + 1, R) + merge(arr, L, R, mid)\n}\n\nfunction merge(arr, L, R, mid) {\n    let help = new Array(R - L + 1)\n    let i = help.length - 1;  // \u9006\u5e8f\n    let p1 = mid;  // \u5012\u8fc7\u6765p1\u5f00\u59cb\u4f4d\u7f6e\u5728\u4e2d\u95f4\n    let p2 = R;  // p2\u5728\u6700\u53f3\u8fb9\n    let res = 0;\n                 // p2 >= mid + 1\n    while (p1 >= L && p2 > mid) {   // \u6c42\u4e00\u5171\u6709\u591a\u5c11\u4e2a\u9006\u5e8f\u5bf9\n                                  // p2 - (mid + 1) + 1 = p2 - mid\n        res += arr[p1] > arr[p2] ? (p2 - mid) : 0;\n        //  \u5012\u7740\u6392\u5e8f\uff0c\u5148\u62ff\u5927\u7684\n        help[i--] = arr[p1] > arr[p2] ? arr[p1--] : arr[p2--];\n    }\n\n    while(p1 >= L) {\n        help[i--] = arr[p1--];\n    }\n    \n    // p2 >= mid + 1\n    while(p2 > mid) {\n        help[i--] = arr[p2--];\n    }\n\n    for(i = 0; i < help.length; i ++) {\n        arr[L + i] = help[i];\n    }\n    return res;\n}\n\n\nlet arr = [4,3,2,1]\nconsole.log(reverPairNumber(arr));  // 6\n")),Object(l.b)("h3",{id:"2\u500d\u95ee\u9898"},"2\u500d\u95ee\u9898"),Object(l.b)("p",null,"\u6c42\u5de6\u8fb9\u7684\u6570 \u5927\u4e8e\u53f3\u8fb9\u6570\u7684\u4e24\u500d\u7684\u4e2a\u6570"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function biggerThanRightTwice(arr) {\n    if (arr == null || arr.length < 2) {\n        return 0\n    }\n    return process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n    if (L === R) {\n        return 0;\n    } \n\n    let mid = Math.floor(L + ((R - L) >> 1));\n\n    return process(arr, L, mid) + process(arr, mid + 1, R) + merge(arr, L, R, mid)\n}\n\nfunction merge(arr, L, R, mid) {\n    let ans = 0\n    let windowR = mid + 1;  // \u7a97\u53e3\u4f4d\u7f6e\uff0c\u4e0d\u4f1a\u56de\u5934\n    // \u5faa\u73af\u5de6\u534a\u8fb9\n    for (let i = L; i <= mid; i ++) {\n        // \u8ddf\u53f3\u534a\u8fb9\u6bd4\u8f83\uff0c\u7b26\u5408\u6761\u4ef6\u5c31\u8bb0\u5f55\n        while(windowR <= R && arr[i] > (arr[windowR] << 1)) {\n            windowR ++;\n        }\n        // \u8ba1\u7b97\u4e2a\u6570\u6dfb\u52a0\n        ans += windowR - (mid + 1);\n    }\n    // \u7136\u540emerge\u6392\u5e8f\n    let help = new Array(R - L + 1)\n    let i = 0;\n    let p1 = L;\n    let p2 = mid + 1;\n    while(p1 <= mid && p2 <= R) {\n        help[i++] = arr[p1] <= arr[p2] ? arr[p1++] : arr[p2++];\n    }\n\n    while(p1 <= mid) {\n        help[i++] = arr[p1++];\n    }\n\n    while(p2 <= R) {\n        help[i++] = arr[p2++];\n    }\n\n    for(i = 0; i < help.length; i ++) {\n        arr[L + i] = help[i];\n    }\n    return ans;\n}\n\nfunction comparator(arr) {\n    let ans = 0;\n    for (let i = 0; i < arr.length; i++) {\n        for (let j = i + 1; j < arr.length; j++) {\n            if (arr[i] > (arr[j] << 1)) {\n                ans++;\n            }\n        }\n    }\n    return ans;\n}\n\n\nlet arr = [4,3,2,1]\nlet arr1 = [4,3,2,1]\nconsole.log(biggerThanRightTwice(arr));\nconsole.log(comparator(arr1));\n")),Object(l.b)("h3",{id:"\u533a\u95f4\u548c\u7684\u4e2a\u6570"},"\u533a\u95f4\u548c\u7684\u4e2a\u6570"),Object(l.b)("p",null,Object(l.b)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/count-of-range-sum/?utm_source=LCUS&utm_medium=ip_redirect&utm_campaign=transfer2china"},"\u533a\u95f4\u548c\u7684\u4e2a\u6570 leetcode")),Object(l.b)("h2",{id:"\u5feb\u901f\u6392\u5e8f\u968f\u673a\u5feb\u6392"},"\u5feb\u901f\u6392\u5e8f\uff08\u968f\u673a\u5feb\u6392\uff09"),Object(l.b)("h3",{id:"x-\u5728\u5de6x\u5728\u53f3"},"<=x \u5728\u5de6\uff0c>x\u5728\u53f3"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"\u5f53\u524d\u6570  <= x\uff0c \u5c0f\u4e8e\u533a\u57df\u7684\u4e0b\u4e00\u4e2a\u6570\uff0c\u548c \u5f53\u524d\u6570\u4ea4\u6362\uff0c\u7136\u540e\u5c0f\u4e8e\u533a\u57df\u53f3\u6269"),Object(l.b)("li",{parentName:"ol"},"\u5f53x\u5927\u4e8e\u5f53\u524di\u4f4d\u7f6e\u7684\u65f6\u5019\uff0c\u4e0d\u505a\u4ea4\u6362\u76f4\u63a5 i++;")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function swap(arr, i, j) {\n    [arr[j], arr[i]] = [arr[i], arr[j]]\n}\n\n// arr[L..R]\u4e0a\uff0c\u4ee5arr[R]\u4f4d\u7f6e\u7684\u6570\u505a\u5212\u5206\u503c\nfunction partition(arr, L, R) {\n    if (L > R) {  // \u4e0d\u5b58\u5728\n        return -1;\n    }\n\n    if (L === R) {  // \u76f4\u63a5\u8fd4\u56de\n        return L;\n    }\n\n    let lessEqual = L - 1;  // \u6700\u5c0f\u503c\u7684\u521d\u59cb\u503c\uff0cL\u7684\u524d\u4e00\u4e2a\u4e0b\u6807\u4f4d\u7f6e\n    let index = L;  // \u4eceL\u5f00\u59cb\n    while (index < R) {  // \u4e00\u76f4\u904d\u5386\u5230R\u7684\u524d\u4e00\u9879\uff0c\u6240\u4ee5\u4e0d\u7528\u7b49\u4e8eR\n        if (arr[index] <= arr[R]) { // \u5982\u679c\u5f53\u524d\u5c0f\u4e8e\u7b49\u4e8eR\n            swap(arr, index, ++lessEqual)  // \u4ea4\u6362\u4f4d\u7f6e\uff0c\u5f53\u524d\u9879\u548c less\u8303\u56f4\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u4ea4\u6362\u3002++\u662f\u5148+\u540e\u8fd0\u7b97\n        }\n        index++;  // \u5982\u679c\u4e0d\u5c0f\u4e8e\uff0c\u76f4\u63a5++\uff0c\u5c0f\u4e8e\u4ea4\u6362\u5b8c++\n    }\n    swap(arr, ++lessEqual, R);  // \u5faa\u73af\u5b8c\u6210\u4e4b\u540e\uff0c\u9700\u8981\u628aR\u4f4d\u7f6e\u5f97\u6570\uff0c\u653e\u5230\u5c0f\u4e8ex\u7684\u6570\u7684\u6700\u540e\u4e00\u4e2a\u540e\u9762\n    return lessEqual  // \u8fd4\u56de\u5c0f\u4e8e\u7b49\u4e8ex\u7684\u4e0b\u6807\n}\n\nlet a = [1, 4, 6, 2, 3, 3];\nconsole.log(partition(a, 0, a.length - 1));  // 3\n")),Object(l.b)("h3",{id:"\u8377\u5170\u56fd\u65d7\u95ee\u9898"},"\u8377\u5170\u56fd\u65d7\u95ee\u9898"),Object(l.b)("p",null,"<x\u5728\u5de6\uff0c =x\u5728\u4e2d\u95f4\uff0c >x\u5728\u53f3"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"\u5f53\u524d\u6570 == x  \u76f4\u63a5 i++;"),Object(l.b)("li",{parentName:"ol"},"\u5f53\u524d\u6570  < x\uff0c \u5c0f\u4e8e\u533a\u57df\u7684\u4e0b\u4e00\u4e2a\u6570\uff0c\u548c \u5f53\u524d\u6570\u4ea4\u6362\uff0c\u7136\u540e\u5c0f\u4e8e\u533a\u57df\u53f3\u6269"),Object(l.b)("li",{parentName:"ol"},"\u5f53\u524d\u6570 > x\uff0c\u5927\u4e8e\u533a\u57df\u7684\u524d\u4e00\u4e2a\u6570\uff0c\u548c\u5f53\u524d\u6570\u4ea4\u6362\uff0c\u5f53\u524d\u4e0b\u6807\u4e0d\u52a8\u3002 \u5927\u4e8e\u533a\u57df\u5de6\u6269"),Object(l.b)("li",{parentName:"ol"},"\u6700\u540e R \u548c \u5927\u4e8e\u533a\u57df\u7684 \u7b2c\u4e00\u4e2a\u4ea4\u6362")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function swap(arr, i, j) {\n    [arr[j], arr[i]] = [arr[i], arr[j]]\n}\n\nfunction netherlandsFlag(arr, L, R) {\n    if (L > R) {\n        return [-1, -1];\n    }\n\n    if (L == R) {\n        return [L, R];\n    }\n    let less = L - 1;  // \u5f00\u5934\u7684\u524d\u4e00\u4e2a\u4f4d\u7f6e\n    let more = R;  // \u6570\u7ec4\u7684\u5c3e\uff0c\u4e0d\u60f3\u8ba9R\u4f4d\u7f6e\u53c2\u4e0e\uff0c\u6240\u4ee5R\u5148\u653e\u5230\u5927\u4e8e\u533a\u57df\u91cc\u9762\uff0c\u6240\u4ee5\u4e0d\u662fR + 1\u4f4d\u7f6e\n    let index = L;  // \u4eceL \u5f00\u59cb\n\n    while(index < more) {  // \u5f53\u524d\u4f4d\u7f6e\u4e0d\u80fd\u548c\u5927\u4e8e\u533a\u57df\u5de6\u8fb9\u649e\u4e0a\uff0c\u53cc\u6307\u9488\n        if (arr[index] === arr[R]) {\n            index++;\n        } else if (arr[index] < arr[R]) {\n            swap(arr, index++, ++less);\n        } else {\n            swap(arr, index, --more);\n        }\n    }\n    swap(arr, more, R);\n    return [less + 1, more] // \u5c0f\u4e8e\u7684\u4e0b\u4e00\u4e2a\u6570\uff0c\u5f53\u524d\u7684more\n}\n\nlet a = [1, 4, 3, 6, 2, 3, 3];\nconsole.log(netherlandsFlag(a, 0, a.length - 1));  // [2, 4]\n")),Object(l.b)("h3",{id:"\u5feb\u639220\u7248\u672c"},"\u5feb\u63922.0\u7248\u672c"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u65f6\u95f4\u590d\u6742\u5ea6 O(n2)"),Object(l.b)("li",{parentName:"ul"},"\u989d\u5916\u7a7a\u95f4\u590d\u6742\u5ea6O(n)")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function swap(arr, i, j) {\n    [arr[j], arr[i]] = [arr[i], arr[j]]\n}\n\nfunction netherlandsFlag(arr, L, R) {\n    if (L > R) {\n        return [-1, -1];\n    }\n\n    if (L == R) {\n        return [L, R];\n    }\n\n    let less = L - 1;\n    let more = R;\n    let index = L;\n\n    while(index < more) {\n        if (arr[index] == arr[R]) {\n            index ++;\n        } else if (arr[index] < arr[R]) {\n            swap(arr, index++, ++less)\n        } else {\n            swap(arr, index, --more);\n        }\n    }\n    swap(arr, more, R);\n    return [less + 1, more];\n}\n\nfunction quickSort2(arr) {\n    if (arr == null || arr.length < 2) {\n        return arr;\n    }\n\n    process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n    if(L >= R) {\n        return;\n    }\n    // \u7528\u8377\u5170\u56fd\u65d7\u95ee\u9898\u83b7\u5f97\u5de6\u53f3\u6700\u5927\u503c\u6700\u5c0f\u503c\u8fb9\u754c\n    let [left, right] = netherlandsFlag(arr, L, R); \n    process(arr, L, left - 1); // \u7ee7\u7eed\u9012\u5f52\n    process(arr, right + 1, R)\n}\n\nlet a = [1, 4, 3, 6, 2,  3];\nquickSort2(a)\nconsole.log(a);  // [ 1, 2, 3, 3, 4, 6 ]\n")),Object(l.b)("h3",{id:"\u5feb\u6392-30-\u7248\u672c"},"\u5feb\u6392 3.0 \u7248\u672c"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u65f6\u95f4\u590d\u6742\u5ea6O(nlogn)"),Object(l.b)("li",{parentName:"ul"},"\u989d\u5916\u7a7a\u95f4\u590d\u6742\u5ea6O(logn)")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function swap(arr, i, j) {\n    [arr[j], arr[i]] = [arr[i], arr[j]]\n}\n\nfunction netherlandsFlag(arr, L, R) {\n    if (L > R) {\n        return [-1, -1];\n    }\n\n    if (L == R) {\n        return [L, R];\n    }\n\n    let less = L - 1;\n    let more = R;\n    let index = L;\n\n    while(index < more) {\n        if (arr[index] == arr[R]) {\n            index ++;\n        } else if (arr[index] < arr[R]) {\n            swap(arr, index++, ++less)\n        } else {\n            swap(arr, index, --more);\n        }\n    }\n    swap(arr, more, R);\n    return [less + 1, more];\n}\n\nfunction quickSort3(arr) {\n    if (arr == null || arr.length < 2) {\n        return arr;\n    }\n\n    process(arr, 0, arr.length - 1);\n}\n\nfunction process(arr, L, R) {\n    if(L >= R) {\n        return;\n    }\n    // \u83b7\u5f97\u4e00\u4e2a\u968f\u673a\u6570\u4e0eR\u4ea4\u6362\u3002\u628a\u6982\u7387\u53d8\u62101/N\n    // * \u4e00\u5b9a\u8981\u6ce8\u610f\u8fd9\u91cc\u9700\u8981 L + \u4e00\u4e2a\u968f\u673a\u6570\n    // highlight-next-line\n    swap(arr, L + Math.floor(Math.random() * (R - L + 1)), R)\n    // \u7528\u8377\u5170\u56fd\u65d7\u95ee\u9898\u83b7\u5f97\u5de6\u53f3\u6700\u5927\u503c\u6700\u5c0f\u503c\u8fb9\u754c\n    let [left, right] = netherlandsFlag(arr, L, R); \n    process(arr, L, left - 1); // \u7ee7\u7eed\u9012\u5f52\n    process(arr, right + 1, R)\n}\n\nlet a = [1, 4, 3, 6, 2,  3];\nquickSort3(a)\nconsole.log(a);  // [ 1, 2, 3, 3, 4, 6 ]\n")),Object(l.b)("h3",{id:"\u8fed\u4ee3-1"},"\u8fed\u4ee3"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"function swap(arr, i, j) {\n    [arr[j], arr[i]] = [arr[i], arr[j]]\n}\n\nfunction netherlandsFlag(arr, L, R) {\n    if (L > R) {\n        return [-1, -1];\n    }\n\n    if (L == R) {\n        return [L, R];\n    }\n\n    let less = L - 1;\n    let more = R;\n    let index = L;\n\n    while(index < more) {\n        if (arr[index] == arr[R]) {\n            index ++;\n        } else if (arr[index] < arr[R]) {\n            swap(arr, index++, ++less)\n        } else {\n            swap(arr, index, --more);\n        }\n    }\n    swap(arr, more, R);\n    return [less + 1, more];\n}\n\n\nfunction opObj(l, r) {\n    return { l, r }\n}\n\nfunction quickSort(arr) {\n    if (arr == null || arr.length < 2) {\n        return arr;\n    }\n    let N = arr.length;\n    swap(arr, Math.floor(Math.random() * N), N - 1);  // \u968f\u673a\u4e00\u4e2a\u6570\n    let [left, right] = netherlandsFlag(arr, 0, N - 1);  // \u83b7\u5f97\u5de6\u53f3\u533a\u57df\n    let stack = [];\n    stack.push(opObj(0, left - 1))  // \u8bb0\u5f55\u4e2d\u70b9\u538b\u6808\n    stack.push(opObj(right + 1, N - 1));\n\n    while(stack.length) {\n        let op = stack.pop();  // \u53d6\u51fa\u6700\u4e0a\u9762\u7684\u4e00\u9879\n        if (op.l < op.r) {\n            swap(arr, op.l + Math.floor(Math.random() * (op.r - op.l + 1)), op.r);\n            let [left, right] = netherlandsFlag(arr, op.l, op.r);\n            stack.push(opObj(op.l, left - 1));\n            stack.push(opObj(right + 1, op.r));\n        }\n    }\n}\n\nlet a = [1, 4, 3, 6, 2,  3];\nquickSort(a)\nconsole.log(a);  // [ 1, 2, 3, 3, 4, 6 ]\n")))}s.isMDXComponent=!0},191:function(n,r,e){"use strict";e.d(r,"a",(function(){return s})),e.d(r,"b",(function(){return h}));var a=e(0),t=e.n(a);function l(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function i(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),e.push.apply(e,a)}return e}function o(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?i(Object(e),!0).forEach((function(r){l(n,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))}))}return n}function p(n,r){if(null==n)return{};var e,a,t=function(n,r){if(null==n)return{};var e,a,t={},l=Object.keys(n);for(a=0;a<l.length;a++)e=l[a],r.indexOf(e)>=0||(t[e]=n[e]);return t}(n,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)e=l[a],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(t[e]=n[e])}return t}var c=t.a.createContext({}),u=function(n){var r=t.a.useContext(c),e=r;return n&&(e="function"==typeof n?n(r):o(o({},r),n)),e},s=function(n){var r=u(n.components);return t.a.createElement(c.Provider,{value:r},n.children)},m={inlineCode:"code",wrapper:function(n){var r=n.children;return t.a.createElement(t.a.Fragment,{},r)}},d=t.a.forwardRef((function(n,r){var e=n.components,a=n.mdxType,l=n.originalType,i=n.parentName,c=p(n,["components","mdxType","originalType","parentName"]),s=u(e),d=a,h=s["".concat(i,".").concat(d)]||s[d]||m[d]||l;return e?t.a.createElement(h,o(o({ref:r},c),{},{components:e})):t.a.createElement(h,o({ref:r},c))}));function h(n,r){var e=arguments,a=r&&r.mdxType;if("string"==typeof n||a){var l=e.length,i=new Array(l);i[0]=d;var o={};for(var p in r)hasOwnProperty.call(r,p)&&(o[p]=r[p]);o.originalType=n,o.mdxType="string"==typeof n?n:a,i[1]=o;for(var c=2;c<l;c++)i[c]=e[c];return t.a.createElement.apply(null,i)}return t.a.createElement.apply(null,e)}d.displayName="MDXCreateElement"},339:function(n,r,e){"use strict";e.r(r),r.default=e.p+"assets/images/image-42d717a77ffb38c43e31dc60bdcc4432.png"}}]);