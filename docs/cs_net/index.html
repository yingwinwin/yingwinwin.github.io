<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="yingwinwin的前端之路 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="yingwinwin的前端之路 Blog Atom Feed"><title data-react-helmet="true">计算机网络 | yingwinwin的前端之路</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="计算机网络 | yingwinwin的前端之路"><meta data-react-helmet="true" name="description" content="输入url到页面渲染发生了什么？"><meta data-react-helmet="true" property="og:description" content="输入url到页面渲染发生了什么？"><meta data-react-helmet="true" property="og:url" content="https://yingwinwin.github.io/docs/cs_net"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://yingwinwin.github.io/docs/cs_net"><link rel="stylesheet" href="/styles.e925f82c.css">
<link rel="preload" href="/styles.2a58415a.js" as="script">
<link rel="preload" href="/runtime~main.f9660290.js" as="script">
<link rel="preload" href="/main.f9738e01.js" as="script">
<link rel="preload" href="/1.556f75ed.js" as="script">
<link rel="preload" href="/2.3fa5847c.js" as="script">
<link rel="preload" href="/79.cfa2dd4f.js" as="script">
<link rel="preload" href="/80.016358b6.js" as="script">
<link rel="preload" href="/935f2afb.d04e163e.js" as="script">
<link rel="preload" href="/17896441.6c71ea60.js" as="script">
<link rel="preload" href="/d9817b9c.586cc152.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">yingwinwin</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">文档</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yingwinwin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">yingwinwin</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">博客</a></li><li class="menu__list-item"><a href="https://github.com/yingwinwin" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/js_base">Js基础</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">正则</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/js_writeTopic">javaScirpt手写题</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">函数</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/highFc">高阶函数</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/utilsFunction">工具函数</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">设计模式</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/design_singe">单例模式</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/onEmit">发布订阅模式</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/obverse">观察者模式</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">异步</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/asyn_base">异步基础</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/promise">Promise</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/business_scenario">业务实现</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CSS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/remFit">Rem布局自适应</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/css_definition">CSS定义</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">React</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">使用</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reactHook">Hook基本使用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reactUseTs">react中使用ts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">面试</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_dataFlow">react数据流</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_vdom">虚拟dom 和 diff</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_other">react中的其他概念</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">原理</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_render">react渲染</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_lifecycle">react生命周期</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_advance">react其他特性/工具方法</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_hooks">react Hook</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/react_router">react路由</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">前端工程化</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webpack_use">webpack使用</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">问题/记录/总结</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/errors">报错/问题/记录</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sum_macUse">Mac 前端开发使用</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">CS基础</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">数据结构</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ds_list">链表</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ds_doublyLinkedList">双向链表</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/cs_net">计算机网络</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">算法</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cs_arrayListnode">数组、链表</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cs_stackQueue">栈、队列</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cs_hashTable">哈希</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">看书总结</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/js4">《Js高级程序设计》第四版</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">个人生活</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/life_musice">音乐理论基础</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">单词</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/English/togo">-cess -ceed -cede -gress -gred -grad</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/English/down">sub-,sup-,suc-,sus-</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">计算机网络</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="输入url到页面渲染发生了什么？"></a>输入url到页面渲染发生了什么？<a class="hash-link" href="#输入url到页面渲染发生了什么？" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="用户输入"></a>用户输入<a class="hash-link" href="#用户输入" title="Direct link to heading">#</a></h3><ol><li>如果输入的是内容：直接又浏览器引擎进行搜索</li><li>如果输入的是url：浏览器通过补全协议</li><li>用户在回车后，还会触发<code>beforeload</code>方法，就是在离开当前页面前的生命周期，如果正常跳转进入下一步</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="url请求"></a>url请求<a class="hash-link" href="#url请求" title="Direct link to heading">#</a></h3><ol><li>是否有缓存，如果有<code>缓存</code>进行缓存读取，然后请求结束</li><li>如果没有缓存，进行<code>DNS</code>解析，<code>TLS</code>连接，然后进行<code>TCP</code>连接（如果TCP连接过多，需要等待队列）</li><li>返回响应头解析：先解析<code>状态码</code>，如果是<code>301/302</code>那么进行重定向操作，会从location字段中取出内容进行重新跳转</li><li>然后解析<code>文档类型</code>：如果是<code>Content-Type</code> 的值是 <code>application/octet-stream</code>，显示数据是字节流类型的进行下载，导航流程结束。如果是html继续进行下面的流程。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="准备渲染进程"></a>准备渲染进程<a class="hash-link" href="#准备渲染进程" title="Direct link to heading">#</a></h3><ol><li>默认是<code>同一站点</code>使用一个渲染进程，如果<code>Referrer Policy</code>的字段是不使用同一渲染进程就不会使用同一个渲染进程</li><li>如果不是同一站点，准备一个<code>新的渲染进程</code>。准备好了之后告诉浏览器进程，我准备好了，接着开始进行渲染进程的内容。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="提交文档"></a>提交文档<a class="hash-link" href="#提交文档" title="Direct link to heading">#</a></h3><ol><li>渲染进程接受完来自网络进程的数据之后，给浏览器进程一个确认提交的消息</li><li>浏览器离开老页面，清空老页面的页面和状态</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="渲染阶段"></a>渲染阶段<a class="hash-link" href="#渲染阶段" title="Direct link to heading">#</a></h3><ol><li>构建 DOM 树，浏览器无法直接理解和使用 HTML，所以需要将 HTML 转换为浏览器能够理解的结构——DOM 树。</li><li>样式计算<ul><li>要把 CSS 转换为浏览器能够理解的结构<code>styleSheets</code></li><li>转换样式表中的<code>属性值</code>，使其标准化</li><li>然后计算出 DOM 树中每个节点的具体样式</li></ul></li><li>布局阶段，计算出 DOM 树中可见元素的几何位置，我们把这个计算过程叫做布局<ul><li>创建布局树，会忽略display：none的元素</li><li>布局计算，计算布局树节点的坐标位置</li></ul></li><li>分层，染引擎还需要为特定的节点生成专用的图层，并生成一棵对应的图层树<ul><li>拥有层叠上下文属性的元素会被提升为单独的一层 z-index， fliter， position：fixed，opacity</li><li>需要剪裁（clip）的地方也会被创建为图层 overfolw：auto</li></ul></li><li>图层绘制，就是图层是出现的过程，像自己画画一样都是有一个画的过程</li><li>栅格化操作-将图块转换为位图<ul><li>绘制好了以后，会交给合成线程，在一个单独的线程，使用GPU加速</li><li>合成线程会将图层划分为图块，按照视口的大小生成位图</li></ul></li><li>合成和显示，发送消息给浏览器要浏览器进程展示</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http的几个版本"></a>HTTP的几个版本<a class="hash-link" href="#http的几个版本" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http09"></a>HTTP/0.9<a class="hash-link" href="#http09" title="Direct link to heading">#</a></h3><ul><li>只有一个请求行，并没有 HTTP 请求头和请求体</li><li>服务器也没有返回头信息</li><li>返回的文件内容是以 ASCII 字符流来传输的，因为都是 HTML 格式的文件，所以使用 ASCII 字节码来传输是最合适的</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http10"></a>HTTP/1.0<a class="hash-link" href="#http10" title="Direct link to heading">#</a></h3><ul><li>支持多种类型的文件下载</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">请求头</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept: text/html  文件类型</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept-encoding: gzip, deflate, br  文件压缩方式</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept-Charset: ISO-8859-1,utf-8  文件的编码</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">accept-language: zh-CN,zh  语言</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">响应头</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">content-encoding: br   压缩方式</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">content-type: text/html; charset=UTF-8  类型和编码方式</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li>处理出错，引入了状态码</li><li>减轻服务器的压力，引入了<code>Cache</code> 机制</li><li>服务器要统计用不同操作系统的人多少，所以引入了用户代理字段</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http11"></a>HTTP/1.1<a class="hash-link" href="#http11" title="Direct link to heading">#</a></h3><ul><li>改进持久连接，同一个域名，允许同时建立 6 个 TCP 持久连接</li><li>持久连接，造成了队头阻塞问题，如果中间卡住了，就会阻塞后面的请求</li><li>提供虚拟主机的支持，增加了Host 字段，每一个虚拟主机用不同的域名，绑在一个ip上，可以让服务器做不同的处理</li><li>对动态生成的内容提供了完美支持，Chunk transfer 机制</li><li>CDN 的实现域名分片机制，每一个域名都可以建立6个TCP，所以可以把资源放到不同的cdn服务器，增加连接次数</li></ul><p><strong>HTTP/1.1 的主要问题</strong></p><ul><li>对带宽的利用率却并不理想<ul><li>TCP 的慢启动</li><li>同时开启了多条 TCP 连接，那么这些连接会竞争固定的带宽</li><li>HTTP/1.1 队头阻塞的问题</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http2"></a>HTTP/2<a class="hash-link" href="#http2" title="Direct link to heading">#</a></h3><ul><li>多路复用（采用了二进制分帧层），一个域名只使用一个 TCP 长连接和消除队头阻塞问题</li><li>可以设置请求的优先级</li><li>服务器推送，服务器把数据提前推送到浏览器</li><li>头部压缩</li></ul><p><strong>HTTP/2的问题</strong></p><ul><li>TCP 队头阻塞，丢包过多的话，效率更低</li><li>TCP 建立连接的延时，握手过程要2-3个RTT</li><li>TCP 协议僵化，很难改变</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="http3"></a>HTTP/3<a class="hash-link" href="#http3" title="Direct link to heading">#</a></h3><ul><li>QUIC 协议，通过UDP加入中间层QUIC实现传输的稳定，多路复用，加密，快速握手等</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="xss攻击"></a>XSS攻击<a class="hash-link" href="#xss攻击" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="什么是xss攻击（跨站脚本攻击）"></a>什么是XSS攻击（跨站脚本攻击）<a class="hash-link" href="#什么是xss攻击（跨站脚本攻击）" title="Direct link to heading">#</a></h3><ul><li>获取cookie信息</li><li>监听用户行为</li><li>修改dom</li><li>生成页面浮窗广告</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="xss攻击的类型"></a>XSS攻击的类型<a class="hash-link" href="#xss攻击的类型" title="Direct link to heading">#</a></h3><ul><li>存储型攻击，通过存在服务器的脚本，只要用户进入了这个页面就会出发脚本，获取用户当前的cookie或者鼠标行为，发送到黑客的服务器上。</li><li>反射型攻击，通过发送请求给服务器，服务器同时返回相同的内容，但是如果发送的是脚本，就会造成反射性XSS攻击。</li><li>dom型攻击，通过劫持dom请求，路由器劫持修改dom信息</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="如何避免"></a>如何避免<a class="hash-link" href="#如何避免" title="Direct link to heading">#</a></h3><ul><li>服务器对输入脚本进行过滤或转码</li><li>充分利用 CSP，限制js脚本的请求来源</li><li>使用 HttpOnly 属性，cookie只能用在http请求中，不能被js脚本获取</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="csrf攻击"></a>CSRF攻击<a class="hash-link" href="#csrf攻击" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="什么是csrf攻击（跨站请求伪造）"></a>什么是CSRF攻击（跨站请求伪造）<a class="hash-link" href="#什么是csrf攻击（跨站请求伪造）" title="Direct link to heading">#</a></h3><ul><li>黑客引诱用户打开黑客的网站，在黑客的网站中，利用用户的登录状态发起的跨站请求</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="如何产生"></a>如何产生<a class="hash-link" href="#如何产生" title="Direct link to heading">#</a></h3><ul><li>自动发起 Get 请求，跨站点get请求</li><li>自动发起 POST 请求，跨站点post请求</li><li>引诱用户点击链接</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="防止csrf攻击"></a>防止CSRF攻击<a class="hash-link" href="#防止csrf攻击" title="Direct link to heading">#</a></h3><ul><li>充分利用好 Cookie 的 <code>SameSite</code> 属性，跨站点情况下，是否可以携带cookie</li><li>验证请求的来源站点，通过<code>Referer</code> 和 <code>Origin</code>属性判断是否当前站点的请求</li><li>CSRF Token，进行token验证，没有携带token，不进行反馈</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="前端鉴权"></a>前端鉴权<a class="hash-link" href="#前端鉴权" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="为什么要鉴权？"></a>为什么要鉴权？<a class="hash-link" href="#为什么要鉴权？" title="Direct link to heading">#</a></h3><ul><li>http的无状态特性，导致客户端和服务端没有办法相认。所以当用户登录，也没有办法记录相应的状态。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="前端储存"></a>前端储存<a class="hash-link" href="#前端储存" title="Direct link to heading">#</a></h3><ul><li>挂载到window上</li><li>cookie</li><li>sessionStorage</li><li>localStorage</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cookie"></a>cookie<a class="hash-link" href="#cookie" title="Direct link to heading">#</a></h3><ul><li><a href="https://wangdoc.com/javascript/bom/cookie.html" target="_blank" rel="noopener noreferrer">cookie</a></li><li>请求头 <code>cookie</code> ，明文传输，最大为<code>4k</code><ul><li>path domain -- 设置当前cookie的地址</li><li>max-age expires  -- cookie携带时间</li><li>sameSite  -- cookie跳转是否可携带</li><li>Secure HttpOnly  -- cookie在https中，且不能通过document获取</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="session"></a>session<a class="hash-link" href="#session" title="Direct link to heading">#</a></h3><blockquote><p>前端存id，后端存数据</p></blockquote><ul><li>用户传账户名和密码，服务端查询库，校验客户</li><li>把用户状态存储session 返回 sessionId给通过cookie带给客户端</li><li>然后客户端在请求内容，通过cookie上面的sessionid</li><li>服务端通过sessionId验证是否正确，然后查询数据库内容返回给客户端</li><li>通常把session放在redis中，以免分布式导致用户信息不知道在哪里</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="token"></a>token<a class="hash-link" href="#token" title="Direct link to heading">#</a></h3><blockquote><p>不需要后端贮存，都放在前端</p></blockquote><ul><li>用户把信息给服务端</li><li>服务端把用户传来的信息，编码形成token，带给cookie。jwt，就是一种成熟的编码方式</li><li>token过期时间，把用户信息和token一起放到cookie中</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/yingwinwin/yingwinwin.github.io/tree/master/docs/cs_net.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ds_doublyLinkedList"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 双向链表</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/cs_arrayListnode"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">数组、链表 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#输入url到页面渲染发生了什么？" class="table-of-contents__link">输入url到页面渲染发生了什么？</a><ul><li><a href="#用户输入" class="table-of-contents__link">用户输入</a></li><li><a href="#url请求" class="table-of-contents__link">url请求</a></li><li><a href="#准备渲染进程" class="table-of-contents__link">准备渲染进程</a></li><li><a href="#提交文档" class="table-of-contents__link">提交文档</a></li><li><a href="#渲染阶段" class="table-of-contents__link">渲染阶段</a></li></ul></li><li><a href="#http的几个版本" class="table-of-contents__link">HTTP的几个版本</a><ul><li><a href="#http09" class="table-of-contents__link">HTTP/0.9</a></li><li><a href="#http10" class="table-of-contents__link">HTTP/1.0</a></li><li><a href="#http11" class="table-of-contents__link">HTTP/1.1</a></li><li><a href="#http2" class="table-of-contents__link">HTTP/2</a></li><li><a href="#http3" class="table-of-contents__link">HTTP/3</a></li></ul></li><li><a href="#xss攻击" class="table-of-contents__link">XSS攻击</a><ul><li><a href="#什么是xss攻击（跨站脚本攻击）" class="table-of-contents__link">什么是XSS攻击（跨站脚本攻击）</a></li><li><a href="#xss攻击的类型" class="table-of-contents__link">XSS攻击的类型</a></li><li><a href="#如何避免" class="table-of-contents__link">如何避免</a></li></ul></li><li><a href="#csrf攻击" class="table-of-contents__link">CSRF攻击</a><ul><li><a href="#什么是csrf攻击（跨站请求伪造）" class="table-of-contents__link">什么是CSRF攻击（跨站请求伪造）</a></li><li><a href="#如何产生" class="table-of-contents__link">如何产生</a></li><li><a href="#防止csrf攻击" class="table-of-contents__link">防止CSRF攻击</a></li></ul></li><li><a href="#前端鉴权" class="table-of-contents__link">前端鉴权</a><ul><li><a href="#为什么要鉴权？" class="table-of-contents__link">为什么要鉴权？</a></li><li><a href="#前端储存" class="table-of-contents__link">前端储存</a></li><li><a href="#cookie" class="table-of-contents__link">cookie</a></li><li><a href="#session" class="table-of-contents__link">session</a></li><li><a href="#token" class="table-of-contents__link">token</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/js_base">JS基础</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/errors">问题总结</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.bilibili.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">哔哩哔哩</a></li><li class="footer__item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li><li class="footer__item"><a href="https://github.com/yingwinwin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 YingWinWin, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.2a58415a.js"></script>
<script src="/runtime~main.f9660290.js"></script>
<script src="/main.f9738e01.js"></script>
<script src="/1.556f75ed.js"></script>
<script src="/2.3fa5847c.js"></script>
<script src="/79.cfa2dd4f.js"></script>
<script src="/80.016358b6.js"></script>
<script src="/935f2afb.d04e163e.js"></script>
<script src="/17896441.6c71ea60.js"></script>
<script src="/d9817b9c.586cc152.js"></script>
</body>
</html>