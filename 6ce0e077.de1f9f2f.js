(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{122:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return b})),n.d(t,"default",(function(){return s}));var a=n(3),r=n(7),c=(n(0),n(175)),o=["components"],i={slug:"/react",title:"react\u53d1\u5c55\u4ecb\u7ecd",author:"yingwinwin",author_title:"\u524d\u7aef\u5f00\u53d1",author_url:"https://github.com/yingwinwin",author_image_url:"https://avatars.githubusercontent.com/u/55273635?s=60&v=4",tags:["react","redux","react-router"]},l={permalink:"/blog/react",editUrl:"https://github.com/yingwinwin/yingwinwin.github.io/blob/master/blog/2021-12-07-react\u53ca\u5176\u751f\u6001\u53d1\u5c55\u4ecb\u7ecd.mdx",source:"@site/blog/2021-12-07-react\u53ca\u5176\u751f\u6001\u53d1\u5c55\u4ecb\u7ecd.mdx",description:"react18",date:"2021-12-07T00:00:00.000Z",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"redux",permalink:"/blog/tags/redux"},{label:"react-router",permalink:"/blog/tags/react-router"}],title:"react\u53d1\u5c55\u4ecb\u7ecd",readingTime:16.555,truncated:!1,nextItem:{title:"react\u9879\u76ee\u642d\u5efa",permalink:"/blog/react\u9879\u76ee\u642d\u5efa"}},b=[{value:"react18",id:"react18",children:[{value:"\u81ea\u52a8\u6279\u5904\u7406",id:"\u81ea\u52a8\u6279\u5904\u7406",children:[]},{value:"startTransition",id:"starttransition",children:[]},{value:"useDeferredValue",id:"usedeferredvalue",children:[]},{value:"useId",id:"useid",children:[]},{value:"useSyncExternalStore",id:"usesyncexternalstore",children:[]},{value:"Suspense",id:"suspense",children:[]},{value:"\u53c2\u8003\u6587\u6863",id:"\u53c2\u8003\u6587\u6863",children:[]}]},{value:"react-router v6",id:"react-router-v6",children:[{value:"useNavigate",id:"usenavigate",children:[]},{value:"useRoutes",id:"useroutes",children:[]},{value:"<code>&lt;Routes/&gt;</code>",id:"routes",children:[]},{value:"<code>&lt;Link to/&gt;</code>",id:"link-to",children:[]}]}],u={toc:b};function s(e){var t=e.components,i=Object(r.a)(e,o);return Object(c.b)("wrapper",Object(a.a)({},u,i,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"react18"},"react18"),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",{parentName:"div",className:"admonition-heading"},Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",{parentName:"h5",className:"admonition-icon"},Object(c.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(c.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(c.b)("div",{parentName:"div",className:"admonition-content"},Object(c.b)("ul",{parentName:"div",className:"contains-task-list"},Object(c.b)("li",{parentName:"ul",className:"task-list-item"},Object(c.b)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","react18 Alpha \u5df2\u7ecf\u5b8c\u6210"),Object(c.b)("li",{parentName:"ul",className:"task-list-item"},Object(c.b)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","react18 beta \u5df2\u7ecf\u5b8c\u6210"),Object(c.b)("li",{parentName:"ul",className:"task-list-item"},Object(c.b)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ",Object(c.b)("strong",{parentName:"li"},"\u8fdb\u5165\u5230RC\u7248\u672c\uff0c\u9700\u8981\u5927\u69821-2\u4e2a\u6708\uff0c\u5177\u4f53\u8fd8\u9700\u8981\u770b\u53cd\u9988")," \uff0812\u67089\u53f7\u5de6\u53f3\uff09"),Object(c.b)("li",{parentName:"ul",className:"task-list-item"},Object(c.b)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","RC\u7ed3\u675f\u4e4b\u540e\uff0c\u9700\u8981\u5927\u69822~4\u5468\u5c31\u4f1a\u53d1\u5e03react18\u4e86\u3002")))),Object(c.b)("h3",{id:"\u81ea\u52a8\u6279\u5904\u7406"},"\u81ea\u52a8\u6279\u5904\u7406"),Object(c.b)("p",null,"\u5982\u4f55\u7406\u89e3\u6279\u5904\u7406\u5462\uff1f\u4ece\u4e00\u9053\u8001\u751f\u5e38\u8c08\u7684\u9762\u8bd5\u9898\u8c08\u8d77\uff1a",Object(c.b)("inlineCode",{parentName:"p"},"setState\u4ec0\u4e48\u65f6\u5019\u662f\u540c\u6b65\u7684\uff0c\u4ec0\u4e48\u65f6\u5019\u662f\u5f02\u6b65\u7684\uff1f")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u6765\u770b\u4e00\u4e0b\uff0c\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801 \uff08\u6253\u5f00\u63a7\u5236\u53f0\u70b9\u51fb\u6309\u94ae\u67e5\u770b\u6548\u679c\uff09")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},"import React, {useState} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setCount((count) => count + 1)\n    setCount((count) => count + 1)\n  }\n  console.log(111);\n\n  return <><button onClick={handleClick}>\u70b9\u51fb</button>{count}</>\n}\nReactDOM.render(<App/>, document.getElementById('root'))\n")),Object(c.b)("p",null,"\u6548\u679c\uff1a\n",Object(c.b)("img",{alt:"image",src:n(193).default}),"\n\u719f\u6089react\u7684\u670b\u53cb\uff0c\u5e94\u8be5\u90fd\u77e5\u9053\uff0creact\u4f1a\u5408\u5e76\u5904\u7406\u5728\u4e8b\u4ef6\u51fd\u6570\u548c\u751f\u547d\u5468\u671f\u7684setState\u7684\u6e32\u67d3\uff0c\u6240\u4ee5\u4e0a\u9762\u5728console\u4e2d\u7684123\uff0c\u4f1a\u6253\u5370",Object(c.b)("inlineCode",{parentName:"p"},"1"),"\u6b21\u3002"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u518d\u6765\u770b\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:"{8,11}","{8,11}":!0},"import React, {useState} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setTimeout(() => {\n      setCount((count) => count + 1)\n      setCount((count) => count + 1)\n    }, 0);\n  }\n  console.log(111);\n\n  return <><button onClick={handleClick}>\u70b9\u51fb</button>{count}</>\n}\nReactDOM.render(<App/>, document.getElementById('root'))\n")),Object(c.b)("p",null,"\u6548\u679c\uff1a\n",Object(c.b)("img",{alt:"image",src:n(194).default}),"\n\u7ed3\u679c\u53ef\u80fd\u5927\u5bb6\u4e5f\u90fd\u5df2\u7ecf\u77e5\u9053\u4e86\uff0cconsole\u91cc\u9762\u7684\u503c\u88ab\u6253\u5370\u4e86",Object(c.b)("inlineCode",{parentName:"p"},"2"),"\u6b21\uff0c\u4e5f\u5c31\u662f\u8bf4\u6bcf\u6b21\u70b9\u51fbreact\u7ec4\u4ef6\u6e32\u67d3\u4e862\u6b21\uff0c\u5728setTimeout\u4e2dsetState\u7684\u6279\u5904\u7406\u5931\u6548\u4e86\u3002"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u90a3\u9053\u6709\u540d\u7684\u9762\u8bd5\u9898\u7684\u7b54\u6848\u4e5f\u5c31\u51fa\u6765\u4e86\u3002"),Object(c.b)("ol",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ol"},"react\u5728\u4e8b\u4ef6\u5904\u7406\u548c\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u662f\u5f02\u6b65\u5904\u7406\u6e32\u67d3\uff08\u5408\u5e76\u6e32\u67d3\uff0c\u4e5f\u5c31\u662f\u6279\u5904\u7406\uff09"),Object(c.b)("li",{parentName:"ol"},"\u5728\u5f02\u6b65\u4efb\u52a1\u4e2d\uff0c\u5982\uff1apromise.then\uff0csetTimeout\u7b49\u5f02\u6b65\u4efb\u52a1\u4e2d\uff0c\u4f1a\u540c\u6b65\u8fdb\u884c\u6e32\u67d3\uff08\u4e0d\u8fdb\u884c\u6279\u5904\u7406\uff09")),Object(c.b)("ul",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ul"},"\u8fd9\u6837\u770b\u5176\u5b9esetState\u572818\u7248\u672c\u4e4b\u524d\u53ea\u80fd\u7b97\u662f\u534a\u81ea\u52a8\u6279\u5904\u7406\u3002"))),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"\u6279\u5904\u7406\u7684\u6982\u5ff5\u8bf4\u5b8c\u4e86\u6211\u4eec\u6765\u770b\u4e00\u4e0breact18\u505a\u4e86\u4ec0\u4e48\uff1f")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"react18\u4e2d\u6539\u6389\u4e86\u8fd9\u4e2asetState\u5728\u5f02\u6b65\u4e2d\u5904\u7406\u7684\u95ee\u9898\uff0c\u771f\u6b63\u4e86\u5b9e\u73b0\u4e86\u81ea\u52a8\u6279\u5904\u7406\u3002\uff08\u72c2\u559c\uff0c\u4ee5\u540e\u518d\u4e5f\u4e0d\u7528\u88absetState\u7684\u9762\u8bd5\u9898\u652f\u914d\ud83d\ude0e\uff09")),Object(c.b)("p",null,"\u5982\u4f55\u4f7f\u7528react18\u7684\u81ea\u52a8\u6279\u5904\u7406\u5462\uff1f\u9700\u8981\u4f7f\u7528\u5230react\u63d0\u4f9b\u7684\u65b0\u7684root Api"),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",{parentName:"div",className:"admonition-heading"},Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",{parentName:"h5",className:"admonition-icon"},Object(c.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(c.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(c.b)("div",{parentName:"div",className:"admonition-content"},Object(c.b)("ul",{parentName:"div"},Object(c.b)("li",{parentName:"ul"},"react\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u7684root Api\uff0c",Object(c.b)("inlineCode",{parentName:"li"},"ReactDOM.createRoot"),"\u7528\u4e8e\u5e76\u53d1\u6e32\u67d3\uff0c\u53ef\u4ee5\u9009\u62e9\u4f18\u5148\u7ea7\u66f4\u9ad8\u7684\u4efb\u52a1\u8fdb\u884c\u6e32\u67d3\u3002"),Object(c.b)("li",{parentName:"ul"},"\u4e4b\u524d\u6211\u4eec\u4f7f\u7528\u7684",Object(c.b)("inlineCode",{parentName:"li"},"ReactDOM.render()"),"\u88ab\u79f0\u4e3a",Object(c.b)("inlineCode",{parentName:"li"},"legacy\u6a21\u5f0f"),"\uff0c\u7b49\u5f85\u6309\u7167\u987a\u5e8f\u6e32\u67d3\u3002")))),Object(c.b)("p",null,"\u4e0a\u9762\u7684\u4f8b\u5b50\u4e0d\u53d8\uff0c\u6211\u4eec\u6765\u770b\u4e00\u4e0b\uff0c\u5728react18\u4e2d\u7684\u8868\u73b0\u3002"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"\u5b89\u88c5\u5305\u66f4\u6539\u4e3areact18@beta\u7248\u672c\u3002")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-shell"},"# \u5b89\u88c5\u65b9\u5f0f\nnpm install react@beta react-dom@beta\n")),Object(c.b)("ol",{start:2},Object(c.b)("li",{parentName:"ol"},"\u9700\u8981\u4fee\u6539react\u7684\u6302\u8f7d\u6a21\u5f0f\u4e3acreateRoot Api\u5f62\u5f0f")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-diff",metastring:"jsx",jsx:!0},"- ReactDOM.render(<App/>, document.getElementById('root'))\n+ ReactDOM.createRoot(document.getElementById('root')).render(<App/>);\n")),Object(c.b)("ol",{start:3},Object(c.b)("li",{parentName:"ol"},"\u4ee3\u7801 ")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},"import React, {useState} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setTimeout(() => {  // \u5f02\u6b65\n      setCount((count) => count + 1)\n      setCount((count) => count + 1)\n    }, 0);\n  }\n  console.log(111);\n\n  return <><button onClick={handleClick}>\u70b9\u51fb</button>{count}</>\n}\n\n// \u8fd9\u91cc\u6362\u6210\u6700\u65b0\u7684createRoot API\nReactDOM.createRoot(document.getElementById('root')).render(<App/>);\n")),Object(c.b)("p",null,"\u6548\u679c\uff1a\n",Object(c.b)("img",{alt:"image",src:n(193).default}),"\n\u53ef\u4ee5\u770b\u5230react18\u5373\u4fbf\u662f\u5728\u5f02\u6b65\u64cd\u4f5c\u4e2d\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u91cd\u65b0\u6e32\u67d3\u4e24\u6b21\u7684\u60c5\u51b5\u3002\u8fbe\u5230\u4e86\u771f\u6b63\u7684\u81ea\u52a8\u5316\u6279\u5904\u7406\u3002"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u5e76\u4e0d\u662f\u603b\u662f\u9700\u8981\u6279\u5904\u7406\u5440\uff0c\u90a3\u600e\u4e48\u5b9e\u73b0\u4e4b\u524d\u9700\u8981\u5f02\u6b65\u5904\u7406\u7684\u60c5\u51b5\u5462\uff1freact\u5b98\u65b9\u63d0\u4f9b\u4e86\u4e00\u4e2aapi\uff0c\u5e2e\u52a9\u6211\u4eec\u5904\u7406\u8fd9\u79cd\u4e0d\u9700\u8981\u6279\u5904\u7406\u7684\u60c5\u51b5\u3002")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"ReactDOM.flushSync"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:"{9-11}","{9-11}":!0},"import React, {useState} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst App = () => {\n  const [count, setCount] = useState(0);\n\n  const handleClick = () => {\n    setTimeout(() => {\n      ReactDOM.flushSync(() => {\n        setCount((count) => count + 1)\n      })\n      setCount((count) => count + 1)\n    }, 0);\n  }\n  console.log(111);\n\n  return <><button onClick={handleClick}>\u70b9\u51fb</button>{count}</>\n}\nReactDOM.createRoot(document.getElementById('root')).render(<App/>);\n")),Object(c.b)("p",null,"\u6548\u679c\uff1a\n",Object(c.b)("img",{alt:"image",src:n(194).default}),"\n\u8fd9\u6837\u6548\u679c\u7684\u8868\u73b0\u548c\u4e4b\u524d\u653e\u5230",Object(c.b)("inlineCode",{parentName:"p"},"\u5f02\u6b65"),"\u7684\u8868\u73b0\u662f\u4e00\u81f4\u7684\u3002"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u539f\u7406\u5c31\u662f\u628asetState\u653e\u5230\u4e24\u4e2a\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u4e2d\u5904\u7406\uff0c\u5982\u679csetState\u7684\u8bdd\uff0creact\u4f1a\u81ea\u52a8\u5408\u5e76\u4e24\u4e2a\u5728\u4e00\u4e2a\u73af\u5883\u4e2d\u7684setState\uff0c\u5224\u5b9a\u4e3a\u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u90a3\u4e48\u5c31\u4f1a\u4e00\u8d77\u6279\u91cf\u66f4\u65b0\u3002")),Object(c.b)("h3",{id:"starttransition"},"startTransition"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u8fd9\u4e2a\u662f\u4e3a\u4e86\u89e3\u51b3\uff0c\u5927\u6570\u636e\u4e0b\uff0c\u6e32\u67d3\u987a\u5e8f\u7684\u95ee\u9898\u3002\u5f88\u591a\u65f6\u5019\uff0c\u540c\u6b65\u66f4\u65b0\u5982\u679cjs\u66f4\u65b0\u5185\u5bb9\u8fc7\u5927\uff0c\u5c31\u4f1a\u9020\u6210\u7528\u6237\u611f\u53d7\u5361\u987f\u7684\u611f\u89c9\u3002react\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u548cfiber\u5f00\u59cb\u5c31\u5df2\u7ecf\u5f00\u59cb\u94fa\u8def\u4e86\u3002\u8fd9\u6b21react18\uff0c\u662f\u5168\u9762\u8fdb\u884c\u5e76\u53d1\u7684\u5f02\u6b65\u6a21\u5f0f\uff0c\u8ba9translate\u53d8\u6210\u53ef\u80fd\u3002")),Object(c.b)("p",null,"\u4ee5\u4e0b\u4f8b\u5b50\u5747\u6765\u6e90\u4e8e",Object(c.b)("a",{parentName:"p",href:"https://juejin.cn/post/7027995169211285512"},"\u300cReact18\u65b0\u7279\u6027\u300d\u6df1\u5165\u6d45\u51fa\u7528\u6237\u4f53\u9a8c\u5927\u5e08\u2014transition")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:"{41-44}","{41-44}":!0},"import React, {memo} from 'react';\nimport ReactDOM from 'react-dom';\n\n/*  \u6a21\u62df\u6570\u636e  */\nconst mockDataArray = new Array(10000).fill(1)\n/* \u9ad8\u91cf\u663e\u793a\u5185\u5bb9 */\nfunction ShowText({ query }){\n   const text = 'asdfghjk'\n   let children\n   if(text.indexOf(query) > 0 ){\n       /* \u627e\u5230\u5339\u914d\u7684\u5173\u952e\u8bcd */\n       const arr = text.split(query)\n       children = <div>{arr[0]}<span style={{ color:'pink' }} >{query}</span>{arr[1]} </div>\n   }else{\n      children = <div>{text}</div>\n   }\n   return <div>{children}</div>\n}\n/* \u5217\u8868\u6570\u636e */\nfunction List ({ query }){\n    console.log('List\u6e32\u67d3')\n    return <div>\n        {\n           mockDataArray.map((item,index)=><div key={index} >\n              <ShowText query={query} />\n           </div>)\n        }\n    </div>\n}\n/* memo \u505a\u4f18\u5316\u5904\u7406  */\nconst NewList = memo(List)\n\nexport default function App(){\n  const [ value ,setInputValue ] = React.useState('')\n  const [ isTransition , setTransion ] = React.useState(false)\n  const [ query ,setSearchQuery  ] = React.useState('')\n  const handleChange = (e) => {\n      /* \u9ad8\u4f18\u5148\u7ea7\u4efb\u52a1 \u2014\u2014 \u6539\u53d8\u641c\u7d22\u6761\u4ef6 */\n      setInputValue(e.target.value)\n      if(isTransition){ /* transition \u6a21\u5f0f */\n          React.startTransition(()=>{\n              /* \u4f4e\u4f18\u5148\u7ea7\u4efb\u52a1 \u2014\u2014 \u6539\u53d8\u641c\u7d22\u8fc7\u6ee4\u540e\u5217\u8868\u72b6\u6001  */\n              setSearchQuery(e.target.value)\n          })\n      }else{ /* \u4e0d\u52a0\u4f18\u5316\uff0c\u4f20\u7edf\u6a21\u5f0f */\n          setSearchQuery(e.target.value)\n      }\n  }\n  return <div>\n      <button onClick={()=>setTransion(!isTransition)} >{isTransition ? 'transition' : 'normal'} </button>\n      <input onChange={handleChange}\n          placeholder=\"\u8f93\u5165\u641c\u7d22\u5185\u5bb9\"\n          value={value}\n      />\n     <NewList  query={query} />\n  </div>\n}\nReactDOM.createRoot(document.getElementById('root')).render(<App/>);\n")),Object(c.b)("p",null,Object(c.b)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fda3c374cc0e43c3bcbbdc42aafd5ba1~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image"})),Object(c.b)("p",null,"\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\u6765translate\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u7684\u4fdd\u62a4\u7528\u6237\u4f53\u9a8c\uff0c\u5728\u8f93\u5165\u5185\u5bb9\u65f6\uff0c\u5ef6\u540elist\u7684\u6e32\u67d3\uff0c\u4e0d\u4f1a\u8ba9\u7528\u6237\u89c9\u5f97\u8f93\u5165\u7684\u65f6\u5019\u5361\u987f\u3002"),Object(c.b)("h4",{id:"\u4e3a\u4ec0\u4e48\u4e0d\u662fsettimeout"},"\u4e3a\u4ec0\u4e48\u4e0d\u662fsetTimeout"),Object(c.b)("p",null,Object(c.b)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3dad3d51d40421cbec2aea31b00a2e4~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image"})),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"setTimeout \u662f\u5f02\u6b65\u7684\u6267\u884c\u4efb\u52a1\uff0c\u4e0d\u4f1a\u963b\u788d\u6d4f\u89c8\u5668\u7684\u6e32\u67d3\u3002\u4f46\u662f\u6267\u884c\u7684\u65f6\u5019\uff0c\u540c\u6837\u4f1a\u62a2\u6d4f\u89c8\u5668\u7684\u7ebf\u7a0b\u4f7f\u7528\uff0c\u4f1a\u8ba9\u7528\u6237\u4ea7\u751f\u5361\u987f\u7684\u611f\u89c9\u3002\u800ctranslate\u662freact\u4f7f\u7528\u5e76\u53d1\u4e2d\u65ad\u5f53\u524dlist\u6e32\u67d3\uff0c\u786e\u4fddinput\u8f93\u5165\uff0c\u6240\u4ee5\u4e0d\u4f1a\u8ba9\u7528\u6237\u89c9\u5f97\u5361\u987f\u3002"),Object(c.b)("li",{parentName:"ol"},"setTimeout\u662f\u5f02\u6b65\u7684\uff0c\u800ctranslate\u7684\u6267\u884c\u65f6\u95f4\u4f1a\u6bd4setTimeout\u65e9\uff0c\u662f\u5728\u56de\u8c03\u4e2d\u6267\u884c\u7684\u3002\u53ef\u4ee5\u66f4\u597d\u7684\u786e\u4fddui\u7684\u6e32\u67d3\u3002")),Object(c.b)("h4",{id:"\u4e3a\u4ec0\u4e48\u4e0d\u662f\u8282\u6d41\u9632\u6296"},"\u4e3a\u4ec0\u4e48\u4e0d\u662f\u8282\u6d41\u9632\u6296"),Object(c.b)("p",null,Object(c.b)("img",{parentName:"p",src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0db256f94a147f697bcb0c2f86b4fe5~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image"})),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"\u8282\u6d41\u9632\u6296\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u662f\u5728\u8282\u6d41\u9632\u6296\u7684\u65f6\u95f4\u628a\u63a7\u4e0a\uff0c\u9700\u8981\u4eba\u4e3a\u5224\u65ad\uff0c\u5982\u679c\u65f6\u95f4\u957f\u53ef\u80fd\u4f1a\u7ed9\u7528\u6237\u9020\u6210\u5ef6\u8fdf\u5c55\u793a\u7684\u611f\u89c9\u3002\u65e9\u4e86\u7684\u8bdd\uff0c\u548c",Object(c.b)("inlineCode",{parentName:"li"},"setTimeout"),"\u4e00\u6837\u8fd8\u662f\u4f1a\u6709\u5361\u987f\u7684\u611f\u89c9\u3002",Object(c.b)("inlineCode",{parentName:"li"},"translate"),"\u4e0d\u7528\u8003\u8651\u8fd9\u4e48\u591a\u3002"),Object(c.b)("li",{parentName:"ol"},"\u8282\u6d41\u9632\u6296\u672c\u8d28\u4e0a\u8fd8\u662f",Object(c.b)("inlineCode",{parentName:"li"},"setTimeout"),"\uff0c\u539f\u7406\u662f\u8ba9list\u6e32\u67d3\u7684\u6b21\u6570\u51cf\u5c11\u3002",Object(c.b)("inlineCode",{parentName:"li"},"translate"),"\u662f\u8ba9\u5176\u5ef6\u8fdf\u5c55\u793a\uff0c\u800c\u4e0d\u662f\u51cf\u5c11\u6e32\u67d3\u6b21\u6570\u3002")),Object(c.b)("h4",{id:"usetransition"},"useTransition"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"react \u4e3a\u4e86\u66f4\u597d\u7684\u4f7f\u7528translate \u63d0\u4f9b\u4e86\u4e00\u4e2ahook\u51fd\u6570")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u4e0d\u7528hook\u4f7f\u7528")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},"React.startTransition(()=>{\n   /* \u66f4\u65b0\u4efb\u52a1 */\n   setSearchQuery(value)\n})\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"hook\u4f7f\u7528")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},"import { useTransition } from 'react' \n\n/* \u4f7f\u7528 */\nconst  [ isPending , startTransition ] = useTransition ()\n// \u53ef\u4ee5\u7cbe\u51c6\u7684\u5224\u65ad\u5f53\u524d\u5ef6\u8fdf\u65f6\u95f4\uff0c\u5e76\u8fdb\u884c\u76f8\u5e94\u7684\u72b6\u6001\u5c55\u793a\n{ isPending  && <div>loading....</div> }\n")),Object(c.b)("p",null,Object(c.b)("img",{parentName:"p",src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d256d72266974280adbaeba238d974cb~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image"}),"\n\u56fe\u4e2d\u53ef\u4ee5\u770b\u5230\uff0ctranslate\u7684\u65f6\u95f4\u53ef\u4ee5\u7cbe\u51c6\u7684\u88ab\u5224\u65ad\u51fa\u6765\u3002"),Object(c.b)("h3",{id:"usedeferredvalue"},"useDeferredValue"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:"{3}","{3}":!0},"export default function App(){\n    const [ value ,setInputValue ] = React.useState('')\n    const query = React.useDeferredValue(value)  // \u628a\u7528translate\u5ef6\u8fdf\u6539\u4e3a\u7528useDeferredValue\n    const handleChange = (e) => {\n        setInputValue(e.target.value)\n    }\n    return  <div>\n      <button>useDeferredValue</button>\n      <input onChange={handleChange}\n          placeholder=\"\u8f93\u5165\u641c\u7d22\u5185\u5bb9\"\n          value={value}\n      />\n      <NewList  query={query} />\n   </div>\n}\n")),Object(c.b)("p",null,Object(c.b)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/110f9db7ec21466398776a97c338a0b2~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image"})),Object(c.b)("p",null,"\u56fe\u4e0a\u7684\u6548\u679c\u4e0e",Object(c.b)("inlineCode",{parentName:"p"},"useTransition"),"\u57fa\u672c\u4e00\u81f4\u3002\u5b9e\u9645\u4e0a\uff0c\u73b0\u5728react18\u5de5\u4f5c\u7ec4\uff0c\u5bf9\u8fd9\u4e24\u4e2aapi\u4e5f\u6ca1\u6709\u4e00\u4e2a\u660e\u786e\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u4e24\u8005\u660e\u663e\u7684\u533a\u522b\u3002\u5728\u65b0\u6587\u6863\u51fa\u6765\u4e4b\u524d\u53ef\u80fd\u8fd8\u6709\u4e00\u5b9a\u7684\u4fee\u6539\u3002\u5177\u4f53\u53ef\u4ee5\u770b\u4e00\u4e0b\u5e16\u5b50\u4e2d",Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/100"},"Dan\u7684\u56de\u590d")),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"\u76ee\u524d\u4e24\u8005\u533a\u522b\u4e0d\u5927\u3002\u53ef\u80fd\u5728api\u4f7f\u7528\u4e0a\u6709\u4e00\u4e9b\u533a\u522b\u3002",Object(c.b)("inlineCode",{parentName:"li"},"useTransition"),"\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u7b49\u5f85\u72b6\u6001\u3002"),Object(c.b)("li",{parentName:"ol"},"\u5728\u6267\u884c\u65f6\u673a\u4e0a",Object(c.b)("inlineCode",{parentName:"li"},"useDeferredValue"),"\u76f8\u6bd4\u8f83",Object(c.b)("inlineCode",{parentName:"li"},"useTransition"),"\u665a\u4e00\u4e9b\u3002")),Object(c.b)("h3",{id:"useid"},"useId"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u5982\u679c\u4f60\u9700\u8981\u751f\u6210\u4e00\u4e2a\u552f\u4e00Id\uff0c\u53ef\u4ee5\u4f7f\u7528useId")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},"const id = React.useId()\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://github.com/reactwg/react-18/discussions/111"},"Intent to Ship: useId #111")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://juejin.cn/post/7034691251165200398"},"\u4e3a\u4e86\u751f\u6210\u552f\u4e00id\uff0cReact18\u4e13\u95e8\u5f15\u5165\u4e86\u65b0Hook\uff1auseId"))),Object(c.b)("h3",{id:"usesyncexternalstore"},"useSyncExternalStore"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u5728\u5f15\u5165\u5916\u90e8\u6570\u636e\u7684\u65f6\u5019\uff0creact\u5f15\u5165\u4e86\u4e00\u4e2a\u65b0\u7684api\u3002\u4e00\u822c\u90fd\u662f\u7531\u5e93\u4f5c\u8005\u4fee\u6539\u3002\u666e\u901a\u5f00\u53d1\u8005\u7528\u4e0d\u5230\uff0c\u6df1\u5165\u4e86\u89e3\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u6587\u7ae0\u3002")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://juejin.cn/post/7026210002042011655#heading-0"},"\u300cReact18\u65b0\u7279\u6027\u300d\u6df1\u5ea6\u89e3\u8bfb\u4e4buseMutableSource")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://github.com/reactwg/react-18/discussions/84"},"useMutableSource and selector stability #84")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://github.com/reactwg/react-18/discussions/86"},"useMutableSource \u2192 useSyncExternalStore #86"))),Object(c.b)("h3",{id:"suspense"},"Suspense"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u670d\u52a1\u7aef\u4e2d\u5f15\u5165\u5f00\u7bb1\u5373\u7528\u7684Suspense")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://github.com/reactwg/react-18/discussions/7"},"Behavioral changes to Suspense in React 18 #7")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://juejin.cn/post/6998086416836067365"},"React 18 Suspense \u7684\u53d8\u5316")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"https://github.com/reactwg/react-18/discussions/72"},"Update to how we handle null or undefined Suspense fallbacks #72"))),Object(c.b)("h3",{id:"\u53c2\u8003\u6587\u6863"},"\u53c2\u8003\u6587\u6863"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://react.docschina.org/blog/2021/06/08/the-plan-for-react-18.html"},"\u5b98\u65b9react18\u4ecb\u7ecd"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/categories/announcement"},"react18\u5de5\u4f5c\u7ec4"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/21"},"Automatic batching for fewer renders in React 18"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/41"},"New feature: startTransition"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/65"},"Real world example: adding startTransition for slow renders"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/100"},"Patterns for startTransition"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/98"},"Education and course material coordination"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://juejin.cn/post/7027995169211285512"},"\u300cReact18\u65b0\u7279\u6027\u300d\u6df1\u5165\u6d45\u51fa\u7528\u6237\u4f53\u9a8c\u5927\u5e08\u2014transition"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",{parentName:"p",href:"https://docs.google.com/document/d/1QN5HnccK00XOVdx0bdEnOplbmwm5MI_luZx1-UoRF_Y/edit?usp=sharing"},"React Conf 2021")))),Object(c.b)("h2",{id:"react-router-v6"},"react-router v6"),Object(c.b)("h3",{id:"usenavigate"},"useNavigate"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"react-router\u4e2d\u4f1a\u76f4\u63a5\u4f9d\u8d56history\uff0c\u4e0d\u9700\u8981\u5728",Object(c.b)("inlineCode",{parentName:"p"},"pakeage.json"),"\u4e2d\u989d\u5916\u5b89\u88c5",Object(c.b)("inlineCode",{parentName:"p"},"history"),"\u4f9d\u8d56\uff0c\u6240\u6709\u5bfc\u822a\u65b9\u6cd5\uff0c\u5747\u4ece",Object(c.b)("inlineCode",{parentName:"p"},"useNavigate()"),"hook\u4e2d\u53d6\u5f97\u3002")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="v5"',title:'"v5"'},'// This is a React Router v5 app\nimport { useHistory } from "react-router-dom";\n\nfunction App() {\n  let history = useHistory();\n  function handleClick() {\n    history.push("/home");\n  }\n  return (\n    <div>\n      <button onClick={handleClick}>go home</button>\n    </div>\n  );\n}\n')),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="v6"',title:'"v6"'},'// This is a React Router v6 app\nimport { useNavigate } from "react-router-dom";\n\nfunction App() {\n  let navigate = useNavigate();\n  function handleClick() {\n    navigate("/home");\n  }\n  return (\n    <div>\n      <button onClick={handleClick}>go home</button>\n    </div>\n  );\n}\n')),Object(c.b)("h3",{id:"useroutes"},"useRoutes"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"\u4f7f\u7528",Object(c.b)("inlineCode",{parentName:"p"},"useRoutes"),"hook\uff0c\u4ee3\u66ff",Object(c.b)("inlineCode",{parentName:"p"},"react-router-config"),"\uff0c\u4f7f\u7528js\u5bf9\u8c61\u5b9a\u4e49router\uff0c\u66f4\u52a0\u7b80\u6d01\u3002")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="v6"',title:'"v6"'},'function App() {\n  let element = useRoutes([\n    // \u6bcf\u4e00\u9879\u60f3\u5f53\u4e8e\u4e00\u4e2aRoute\n    { path: "/", element: <Home /> },\n    { path: "dashboard", element: <Dashboard /> },\n    {\n      path: "invoices",\n      element: <Invoices />,\n      // \u5982\u679c\u4f7f\u7528\u5d4c\u5957\u8def\u7531\u9700\u8981\u7528children\u5c5e\u6027\u3002\u76f8\u5f53\u4e8e\u5d4c\u5957\u8def\u7531\u91cc\u9762\u7684route\n      children: [\n        { path: ":id", element: <Invoice /> },\n        { path: "sent", element: <SentInvoices /> }\n      ]\n    },\n    // 404\u7684\u60c5\u51b5\n    { path: "*", element: <NotFound /> }\n  ]);\n\n  // \u53ef\u4ee5\u76f4\u63a5\u5c06element\u5bf9\u8c61\u8fd4\u56de\uff0c\u5728\u6839\u7ec4\u4ef6\u6302\u8f7d\n  return element;\n}\nReactDOM.createRoot(document.getElementById("root")).render(<BrowserRouter>\n    <App/>\n</BrowserRouter>);\n')),Object(c.b)("h3",{id:"routes"},Object(c.b)("inlineCode",{parentName:"h3"},"<Routes/>")),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},Object(c.b)("inlineCode",{parentName:"p"},"routes"),"\u53ef\u4ee5\u5b8c\u7f8e\u66ff\u6362",Object(c.b)("inlineCode",{parentName:"p"},"switch"),"\uff0c\u4f46\u662f\u529f\u80fd\u8981\u5f3a\u8fc7",Object(c.b)("inlineCode",{parentName:"p"},"switch"),"\u3002"),Object(c.b)("ol",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"<Routes/>"),"\u4e2d\u7684\u8def\u7531\u90fd\u662f\u76f8\u5bf9\u7684\u3002\u5728",Object(c.b)("inlineCode",{parentName:"li"},"<Link to/>")," ",Object(c.b)("inlineCode",{parentName:"li"},"<Route path>"),"\u7684\u4ee3\u7801\u66f4\u7b80\u6d01"))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:'title="v5"',title:'"v5"'},'import {\n  BrowserRouter,\n  Switch,\n  Route,\n  Link,\n  useRouteMatch\n} from "react-router-dom";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path="/">\n          <Home />\n        </Route>\n        <Route path="/users">\n          <Users />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nfunction Users() {\n  // \u5728v5\u4e2d\u5982\u679c\u8981\u4f7f\u7528 Switch\u4e2d\u7684route\u5bfb\u627e\u5230\u5bf9\u5e94\u7684router\u5c31\u8981\u7528match.path \u548c match.url\n  let match = useRouteMatch();\n\n  return (\n    <div>\n      <nav>\n        <Link to={`${match.url}/me`}>My Profile</Link>\n      </nav>\n\n      <Switch>\n        <Route path={`${match.path}/me`}>\n          <OwnUserProfile />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <UserProfile />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n')),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:"title = v6",title:!0,"":"",v6:!0},'import {\n  BrowserRouter,\n  Routes,\n  Route,\n  Link\n} from "react-router-dom";\n\nfunction App() {\n  // \u5728v6\u4e2d\u4f7f\u7528 * \u6765\u4ee3\u8868\u6b64\u8def\u7531\u662f\u6709\u5b50\u8def\u7531\u7684\n  return (\n    <BrowserRouter>\n      <Routes>\n        {/* \u53d6\u6d88\u4e86 extra\uff0c\u7528\u6709 * \u6765\u5339\u914d\u662f\u5426\u6709\u5b50\u4ee3\u8def\u7531  */}\n        <Route path="/" element={<Home />} />\n        <Route path="users/*" element={<Users />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nfunction Users() {\n  return (\n    <div>\n      <nav>\n        <Link to="me">My Profile</Link>\n      </nav>\n      {/* \u5728\u5b50\u7ec4\u4ef6\u4e2d\uff0c\u8def\u7531\u76f4\u63a5\u5199\u76f8\u5bf9\u8def\u5f84\u5c31\u53ef\u4ee5 */}\n      <Routes>\n        <Route path=":id" element={<UserProfile />} />\n        <Route path="me" element={<OwnUserProfile />} />\n      </Routes>\n    </div>\n  );\n}\n')),Object(c.b)("ol",{start:2},Object(c.b)("li",{parentName:"ol"},"\u5339\u914d\u89c4\u5219\u4ece\u4e0a\u5230\u4e0b\uff0c\u6539\u6210\u4e86\u6700\u4f73\u5339\u914d\u8def\u7ebf",Object(c.b)("blockquote",{parentName:"li"},Object(c.b)("p",{parentName:"blockquote"},"\u4e0b\u9762\u8fd9\u79cd\u60c5\u51b5\uff0creact-router \u4f1a\u9009\u62e9\u6e32\u67d3 NewTteam \u7ec4\u4ef6\uff0c\u56e0\u4e3a\u4ed6\u7684\u8def\u7531\u66f4\u7cbe\u51c6\uff0c\u4e0d\u7528\u6015\u56e0\u4e3a\u4f4d\u7f6e\u5199\u9519\uff0c\u800c\u5bfc\u81f4\u7684\u95ee\u9898\u4e86\u3002")))),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx"},'<Routes>\n  <Route path="teams/:teamId" element={<Team />} />\n  <Route path="teams/new" element={<NewTeam />} />\n</Routes>\n')),Object(c.b)("ol",{start:3},Object(c.b)("li",{parentName:"ol"},"\u53ef\u4ee5\u5c06\u8def\u7531\u90fd\u5728\u4e00\u4e2a\u5730\u65b9\u5d4c\u5957\uff0c\u800c\u4e0d\u662f\u5206\u6563\u5230\u5404\u5904")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-jsx",metastring:"title=\u5d4c\u5957\u8def\u7531",title:"\u5d4c\u5957\u8def\u7531"},'// This is a React Router v6 app\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  Link,\n  Outlet\n} from "react-router-dom";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="users" element={<Users />}>\n          {/* \u5728\u8fd9\u91cc\u76f4\u63a5\u4f7f\u7528\u5d4c\u5957\u8def\u7531\uff0c\u5bf9\u5c0f\u5e94\u7528\u53cb\u597d\uff0c\u6ce8\u610f\u8fd9\u91cc\u4e0d\u7528\u52a0*\uff0c\u56e0\u4e3a\u662f\u76f4\u63a5\u5d4c\u5957\u5728\u8fd9\u91cc\u7684 */}\n          <Route path="me" element={<OwnUserProfile />} />\n          <Route path=":id" element={<UserProfile />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nfunction Users() {\n  return (\n    <div>\n      <nav>\n        <Link to="me">My Profile</Link>\n      </nav>\n      {/* \u53ef\u4ee5\u4f7f\u7528 Outlet \u7ec4\u4ef6\u8fdb\u884c\u5360\u4f4d */}\n      <Outlet />\n    </div>\n  );\n}\n')),Object(c.b)("h3",{id:"link-to"},Object(c.b)("inlineCode",{parentName:"h3"},"<Link to/>")),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Link to \u7684\u8868\u73b0\u548c\u6211\u4eec\u5728\u4f7f\u7528",Object(c.b)("inlineCode",{parentName:"p"},"cd xxx"),"\u6587\u4ef6\u65f6\u7684\u8868\u73b0\u76f8\u4f3c"),Object(c.b)("pre",{parentName:"blockquote"},Object(c.b)("code",{parentName:"pre",className:"language-js"},'function App() {\n  return (\n    <Routes>\n      <Route path="users" element={<Users />}>\n        <Route path=":id" element={<UserProfile />} />\n      </Route>\n    </Routes>\n  );\n}\n'))),Object(c.b)("p",null,"function Users() {\nreturn ("),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},'<div>\n  <h2>\n    {/* \u8fd9\u4e2alink\u4f1a\u8df3\u5230 /users - \u5f53\u524d\u8def\u7531 */}\n    <Link to=".">Users</Link>\n  </h2>\n\n  <ul>\n    {users.map(user => (\n      <li>\n        {/* \u8fd9\u4e2alink\u4f1a\u8df3\u5230 /users/:id - \u5b69\u5b50\u8def\u7531 */}\n        <Link to={user.id}>{user.name}</Link>\n      </li>\n    ))}\n  </ul>\n</div>\n')),Object(c.b)("p",null,"  );\n}"),Object(c.b)("p",null,"function UserProfile() {\nreturn ("),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},'<div>\n  <h2>\n    {/* \u8fd9\u4e2alink\u4f1a\u8df3\u5230 /users - \u7236\u8def\u7531 */}\n    <Link to="..">All Users</Link>\n  </h2>\n\n  <h2>\n    {/* \u8fd9\u4e2alink\u4f1a\u8df3\u5230 /users/:id - \u5f53\u524d\u8def\u7531 */}\n    <Link to=".">User Profile</Link>\n  </h2>\n\n  <h2>\n    {/* \u8fd9\u4e2alink\u4f1a\u8df3\u5230 /users/mj - \u4e00\u4e2a\u5144\u5f1f\u8def\u7531 */}\n    <Link to="../mj">MJ</Link>\n  </h2>\n</div>\n')),Object(c.b)("p",null,"  );\n}"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"\n### \u53c2\u8003\u6587\u6863\n\n- [\u5b98\u65b9\u6587\u6863](https://reactrouter.com/)\n- [Upgrading from v5](https://reactrouter.com/docs/en/v6/upgrading/v5#upgrading-from-v5)\n\n## redux-toolkit\n> redux \u5b98\u7f51\u4e5f\u975e\u5e38\u5efa\u8bae\u4f7f\u7528tookit\n\n- [\u5b98\u65b9\u6587\u6863](https://redux-toolkit.js.org/)\n- [What is Redux Toolkit?](https://redux.js.org/redux-toolkit/overview)\n\n## ahooks 3\n> \u63a8\u51fa\u4e86\u4e00\u4e9b\u65b0\u7279\u6027\n- [\u5b98\u65b9\u6587\u6863](https://ahooks.gitee.io/zh-CN/hooks/use-request/index)\n")))}s.isMDXComponent=!0},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),u=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),s=u(n),m=a,d=s["".concat(o,".").concat(m)]||s[m]||p[m]||c;return n?r.a.createElement(d,i(i({ref:t},b),{},{components:n})):r.a.createElement(d,i({ref:t},b))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var b=2;b<c;b++)o[b]=n[b];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},193:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/20211212150110-c0d2fe993f78dea540bce3e75148f893.gif"},194:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/20211212150113-20ad552773900f0e6270f12531041d9b.gif"}}]);